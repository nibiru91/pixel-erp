[{"name":"/Creazione","nodes":[{"id":"7958e38e-9530-b8fb-be83-7fd7ee282840","type":"Page","parameters":{},"ports":[],"children":[{"id":"45f67757-a5ca-4834-c701-d58fa11e0525","type":"Group","parameters":{"alignItems":"center","justifyContent":"flex-start","rowGap":{"value":24,"unit":"px"},"width":{"value":100,"unit":"%"},"height":{"value":100,"unit":"vh"},"marginTop":{"value":50,"unit":"px"},"maxWidth":{"value":100,"unit":"%"},"sizeMode":"explicit"},"ports":[],"children":[{"id":"01441206-9022-9b27-8aad-8e057a2fee1a","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 5"},"ports":[],"children":[{"id":"adf2614a-e77c-13e1-e9e8-232cedc40f6c","type":"Group","parameters":{"sizeMode":"explicit","rowGap":{"value":16,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"backgroundColor":"transparent"},"ports":[],"children":[{"id":"296acd90-0f61-4a79-9d9b-7748750a0aa4","type":"net.noodl.controls.button","parameters":{"label":"Crea Soggetto","sizeMode":"explicit","backgroundColor":"Grey - 900"},"ports":[],"children":[]},{"id":"d7fe93e6-1074-0a07-78a4-714da2db6363","type":"net.noodl.controls.button","parameters":{"label":"Crea Scontrino","sizeMode":"explicit","backgroundColor":"Grey - 900"},"ports":[],"children":[]},{"id":"bab3c68b-4bd4-ea90-89cd-05d5f82b3033","type":"net.noodl.controls.button","parameters":{"label":"Crea Rata","sizeMode":"explicit","backgroundColor":"Grey - 900"},"ports":[],"children":[]},{"id":"da52ad52-c9fe-2ef7-a9f8-803ba3f7fe16","type":"net.noodl.controls.button","parameters":{"label":"Crea Costo","sizeMode":"explicit","backgroundColor":"Grey - 900"},"ports":[],"children":[]}]},{"id":"5d9a70e5-00c2-5ac1-5755-29a603d1e9f3","type":"Group","parameters":{"mounted":false,"sizeMode":"contentHeight","maxWidth":{"value":90,"unit":"%"},"borderRadius":{"value":10,"unit":"px"},"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"3d3aab13-70c6-c8c9-3ad3-e17f9ed56eb5","type":"/Pop Up/PopUp_Insert_Soggetto","parameters":{},"ports":[],"children":[]}]},{"id":"ae35c6d2-100c-d486-1e06-561d4234277a","type":"Group","parameters":{"mounted":false,"sizeMode":"contentHeight","maxWidth":{"value":90,"unit":"%"},"borderRadius":{"value":10,"unit":"px"},"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"d634436e-c280-03d0-cf80-98d809884d3d","type":"/Pop Up/PopUp_Insert_Scontrino","parameters":{},"ports":[],"children":[]}]},{"id":"e5cb81af-301d-54c7-47f8-48498d37bc0c","type":"Group","parameters":{"mounted":false,"sizeMode":"contentHeight","maxWidth":{"value":90,"unit":"%"},"borderRadius":{"value":10,"unit":"px"},"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"616da1ca-39fa-5b4d-acae-772147cc37f4","type":"/Pop Up/PopUp_Insert_Rata","parameters":{},"ports":[],"children":[]}]},{"id":"16c18491-6f14-9eea-a0bb-e6cd77541489","type":"Group","parameters":{"mounted":false,"sizeMode":"contentHeight","maxWidth":{"value":90,"unit":"%"},"borderRadius":{"value":10,"unit":"px"},"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"470b9b94-8a33-c76b-94a0-c7f99479d3af","type":"/Pop Up/PopUp_Insert_Costo","parameters":{},"ports":[],"children":[]}]}]}]}]},{"id":"f7a0ce26-73ec-a6e6-f586-b9fdfcab2fca","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"987746e8-df18-6f99-6857-3655733f33a6","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"a06512ef-9e3c-c7e7-ffca-5b5c943ae85f","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"4319b000-36d5-4443-aca4-ca38cca0e834","type":"Event Receiver","parameters":{"consume":"always","channelName":"closePopUp"},"ports":[],"children":[]},{"id":"cd541eb4-f399-d529-dbb3-aceadd6f37ea","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"5981127b-2ceb-ce51-84c0-6ba0ffe10de8","type":"Switch","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"987746e8-df18-6f99-6857-3655733f33a6","sourcePort":"state","targetId":"5d9a70e5-00c2-5ac1-5755-29a603d1e9f3","targetPort":"mounted"},{"sourceId":"d7fe93e6-1074-0a07-78a4-714da2db6363","sourcePort":"onClick","targetId":"a06512ef-9e3c-c7e7-ffca-5b5c943ae85f","targetPort":"on"},{"sourceId":"296acd90-0f61-4a79-9d9b-7748750a0aa4","sourcePort":"onClick","targetId":"987746e8-df18-6f99-6857-3655733f33a6","targetPort":"on"},{"sourceId":"a06512ef-9e3c-c7e7-ffca-5b5c943ae85f","sourcePort":"state","targetId":"ae35c6d2-100c-d486-1e06-561d4234277a","targetPort":"mounted"},{"sourceId":"d7fe93e6-1074-0a07-78a4-714da2db6363","sourcePort":"onClick","targetId":"987746e8-df18-6f99-6857-3655733f33a6","targetPort":"off"},{"sourceId":"296acd90-0f61-4a79-9d9b-7748750a0aa4","sourcePort":"onClick","targetId":"a06512ef-9e3c-c7e7-ffca-5b5c943ae85f","targetPort":"off"},{"sourceId":"4319b000-36d5-4443-aca4-ca38cca0e834","sourcePort":"eventReceived","targetId":"987746e8-df18-6f99-6857-3655733f33a6","targetPort":"off"},{"sourceId":"4319b000-36d5-4443-aca4-ca38cca0e834","sourcePort":"eventReceived","targetId":"a06512ef-9e3c-c7e7-ffca-5b5c943ae85f","targetPort":"off"},{"sourceId":"bab3c68b-4bd4-ea90-89cd-05d5f82b3033","sourcePort":"onClick","targetId":"987746e8-df18-6f99-6857-3655733f33a6","targetPort":"off"},{"sourceId":"bab3c68b-4bd4-ea90-89cd-05d5f82b3033","sourcePort":"onClick","targetId":"a06512ef-9e3c-c7e7-ffca-5b5c943ae85f","targetPort":"off"},{"sourceId":"4319b000-36d5-4443-aca4-ca38cca0e834","sourcePort":"eventReceived","targetId":"cd541eb4-f399-d529-dbb3-aceadd6f37ea","targetPort":"off"},{"sourceId":"296acd90-0f61-4a79-9d9b-7748750a0aa4","sourcePort":"onClick","targetId":"cd541eb4-f399-d529-dbb3-aceadd6f37ea","targetPort":"off"},{"sourceId":"d7fe93e6-1074-0a07-78a4-714da2db6363","sourcePort":"onClick","targetId":"cd541eb4-f399-d529-dbb3-aceadd6f37ea","targetPort":"off"},{"sourceId":"da52ad52-c9fe-2ef7-a9f8-803ba3f7fe16","sourcePort":"onClick","targetId":"987746e8-df18-6f99-6857-3655733f33a6","targetPort":"off"},{"sourceId":"da52ad52-c9fe-2ef7-a9f8-803ba3f7fe16","sourcePort":"onClick","targetId":"a06512ef-9e3c-c7e7-ffca-5b5c943ae85f","targetPort":"off"},{"sourceId":"da52ad52-c9fe-2ef7-a9f8-803ba3f7fe16","sourcePort":"onClick","targetId":"cd541eb4-f399-d529-dbb3-aceadd6f37ea","targetPort":"off"},{"sourceId":"bab3c68b-4bd4-ea90-89cd-05d5f82b3033","sourcePort":"onClick","targetId":"cd541eb4-f399-d529-dbb3-aceadd6f37ea","targetPort":"on"},{"sourceId":"cd541eb4-f399-d529-dbb3-aceadd6f37ea","sourcePort":"state","targetId":"e5cb81af-301d-54c7-47f8-48498d37bc0c","targetPort":"mounted"},{"sourceId":"5981127b-2ceb-ce51-84c0-6ba0ffe10de8","sourcePort":"state","targetId":"16c18491-6f14-9eea-a0bb-e6cd77541489","targetPort":"mounted"},{"sourceId":"296acd90-0f61-4a79-9d9b-7748750a0aa4","sourcePort":"onClick","targetId":"5981127b-2ceb-ce51-84c0-6ba0ffe10de8","targetPort":"off"},{"sourceId":"d7fe93e6-1074-0a07-78a4-714da2db6363","sourcePort":"onClick","targetId":"5981127b-2ceb-ce51-84c0-6ba0ffe10de8","targetPort":"off"},{"sourceId":"bab3c68b-4bd4-ea90-89cd-05d5f82b3033","sourcePort":"onClick","targetId":"5981127b-2ceb-ce51-84c0-6ba0ffe10de8","targetPort":"off"},{"sourceId":"da52ad52-c9fe-2ef7-a9f8-803ba3f7fe16","sourcePort":"onClick","targetId":"5981127b-2ceb-ce51-84c0-6ba0ffe10de8","targetPort":"on"},{"sourceId":"4319b000-36d5-4443-aca4-ca38cca0e834","sourcePort":"eventReceived","targetId":"5981127b-2ceb-ce51-84c0-6ba0ffe10de8","targetPort":"off"}],"ports":[],"roots":["7958e38e-9530-b8fb-be83-7fd7ee282840"]},{"name":"/Pop Up/PopUp_Insert_Soggetto","nodes":[{"id":"996ccfd6-1abf-48f7-80d5-17f5faeda007","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"height":{"value":100,"unit":"%"},"backgroundColor":"transparent","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"3f9b7742-5245-85d9-ecda-3ed0af709136","type":"Text","parameters":{"text":"SOGGETTO","textAlignX":"center","textStyle":"Title Large","color":"Primary Dark","marginBottom":{"value":24,"unit":"px"}},"ports":[],"children":[]},{"id":"909e5f6c-959f-a3ee-604b-e224ac166286","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"alignItems":"center","sizeMode":"contentHeight","rowGap":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"67501a94-5090-34c9-da30-18c58c426ce2","type":"net.noodl.controls.options","parameters":{"label":"Tipologia","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"e1865c76-3cd9-6fa6-d865-9b04257671a1","type":"net.noodl.controls.textinput","parameters":{"label":"Ragione Sociale","placeholder":"Inserisci"},"ports":[],"children":[]},{"id":"4e956b6c-f9c7-f169-b6cf-8b6d26f0a335","type":"net.noodl.controls.textinput","parameters":{"label":"Descrizione","placeholder":"Inserisci"},"ports":[],"children":[]},{"id":"6b49f1e7-e31e-c897-7431-938a222b61d8","type":"net.noodl.controls.textinput","parameters":{"label":"Fisso mensile","type":"number","placeholder":"Inserisci (ozionale)"},"ports":[],"children":[]},{"id":"52cfbcae-1f4e-48fb-bc7b-8cecdfa6b348","type":"net.noodl.controls.checkbox","parameters":{"label":"Forza Vendite"},"ports":[],"children":[]},{"id":"e54226de-1a83-9d43-ab77-a0ce286a14b6","type":"net.noodl.controls.options","parameters":{"label":"Fees Model","items":"[]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"d397b9c3-b026-b14d-6df0-ca5bb27facbb","type":"net.noodl.controls.button","parameters":{"label":"Inserisci Soggetto"},"ports":[],"children":[]}]}]},{"id":"197840fc-f4de-44c5-1add-a04137a61cc9","type":"/Query/Select/Select_fees_models","parameters":{},"ports":[],"children":[]},{"id":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","type":"/Query/Insert/Insert_soggetto","parameters":{},"ports":[],"children":[]},{"id":"40f175cd-6b5b-7860-06d7-3e3f69900d45","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Tipo = parseInt(Inputs.Tipo);"},"ports":[{"name":"in-Tipo","displayName":"Tipo","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Tipo","displayName":"Tipo","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"38aaaa72-3c2e-bdb7-1f6b-dc2af2aec9db","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Importo = parseInt(Inputs.Importo);"},"ports":[{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Importo","displayName":"Importo","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"7101ac18-797d-9d59-ba2c-f3826a047c4b","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Fees = parseInt(Inputs.Fees);"},"ports":[{"name":"in-Fees","displayName":"Fees","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Fees","displayName":"Fees","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","type":"JavaScriptFunction","parameters":{"functionScript":"const tipo = Inputs.Tipo;\nconst ragsoc = Inputs.Ragsoc;\nconst descr = Inputs.Descr;\n\nif (tipo && ragsoc && descr) {\n    // Se tutte le variabili sono non vuote, lancia l'evento di successo\n    Outputs.Success();\n} else {\n    // Se almeno una variabile è vuota, lancia l'evento di errore\n    Outputs.Error();\n    Outputs.Message = \"Compila tutti i campi!\";\n    Outputs.MessageType = \"Warning\";\n}"},"ports":[{"name":"in-Tipo","displayName":"Tipo","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Ragsoc","displayName":"Ragsoc","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Descr","displayName":"Descr","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Error","displayName":"Error","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Message","displayName":"Message","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-MessageType","displayName":"MessageType","plug":"output","type":"*","group":"Outputs","index":10}],"children":[]},{"id":"c2686b36-501a-6826-d790-aadaddaf080d","type":"/Components/Show Toast","parameters":{},"ports":[],"children":[]},{"id":"6043e3c7-a835-a482-81a0-e4517077f711","type":"Event Sender","parameters":{"channelName":"closePopUp"},"ports":[],"children":[]}],"connections":[{"sourceId":"52cfbcae-1f4e-48fb-bc7b-8cecdfa6b348","sourcePort":"checked","targetId":"e54226de-1a83-9d43-ab77-a0ce286a14b6","targetPort":"visible"},{"sourceId":"996ccfd6-1abf-48f7-80d5-17f5faeda007","sourcePort":"didMount","targetId":"197840fc-f4de-44c5-1add-a04137a61cc9","targetPort":"Do"},{"sourceId":"197840fc-f4de-44c5-1add-a04137a61cc9","sourcePort":"ListData","targetId":"e54226de-1a83-9d43-ab77-a0ce286a14b6","targetPort":"items"},{"sourceId":"52cfbcae-1f4e-48fb-bc7b-8cecdfa6b348","sourcePort":"checked","targetId":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","targetPort":"isVend"},{"sourceId":"67501a94-5090-34c9-da30-18c58c426ce2","sourcePort":"onChange","targetId":"40f175cd-6b5b-7860-06d7-3e3f69900d45","targetPort":"run"},{"sourceId":"67501a94-5090-34c9-da30-18c58c426ce2","sourcePort":"value","targetId":"40f175cd-6b5b-7860-06d7-3e3f69900d45","targetPort":"in-Tipo"},{"sourceId":"40f175cd-6b5b-7860-06d7-3e3f69900d45","sourcePort":"out-Tipo","targetId":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","targetPort":"tipo"},{"sourceId":"e1865c76-3cd9-6fa6-d865-9b04257671a1","sourcePort":"onTextChanged","targetId":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","targetPort":"ragsoc"},{"sourceId":"4e956b6c-f9c7-f169-b6cf-8b6d26f0a335","sourcePort":"onTextChanged","targetId":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","targetPort":"descr"},{"sourceId":"6b49f1e7-e31e-c897-7431-938a222b61d8","sourcePort":"onTextChanged","targetId":"38aaaa72-3c2e-bdb7-1f6b-dc2af2aec9db","targetPort":"in-Importo"},{"sourceId":"6b49f1e7-e31e-c897-7431-938a222b61d8","sourcePort":"textChanged","targetId":"38aaaa72-3c2e-bdb7-1f6b-dc2af2aec9db","targetPort":"run"},{"sourceId":"38aaaa72-3c2e-bdb7-1f6b-dc2af2aec9db","sourcePort":"out-Importo","targetId":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","targetPort":"fissomese"},{"sourceId":"e54226de-1a83-9d43-ab77-a0ce286a14b6","sourcePort":"value","targetId":"7101ac18-797d-9d59-ba2c-f3826a047c4b","targetPort":"in-Fees"},{"sourceId":"e54226de-1a83-9d43-ab77-a0ce286a14b6","sourcePort":"onChange","targetId":"7101ac18-797d-9d59-ba2c-f3826a047c4b","targetPort":"run"},{"sourceId":"7101ac18-797d-9d59-ba2c-f3826a047c4b","sourcePort":"out-Fees","targetId":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","targetPort":"feesModel"},{"sourceId":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","sourcePort":"out-Error","targetId":"c2686b36-501a-6826-d790-aadaddaf080d","targetPort":"Do"},{"sourceId":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","sourcePort":"out-Message","targetId":"c2686b36-501a-6826-d790-aadaddaf080d","targetPort":"Message"},{"sourceId":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","sourcePort":"out-MessageType","targetId":"c2686b36-501a-6826-d790-aadaddaf080d","targetPort":"Type"},{"sourceId":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","sourcePort":"out-Success","targetId":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","targetPort":"Do"},{"sourceId":"67501a94-5090-34c9-da30-18c58c426ce2","sourcePort":"value","targetId":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","targetPort":"in-Tipo"},{"sourceId":"e1865c76-3cd9-6fa6-d865-9b04257671a1","sourcePort":"onTextChanged","targetId":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","targetPort":"in-Ragsoc"},{"sourceId":"4e956b6c-f9c7-f169-b6cf-8b6d26f0a335","sourcePort":"onTextChanged","targetId":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","targetPort":"in-Descr"},{"sourceId":"d397b9c3-b026-b14d-6df0-ca5bb27facbb","sourcePort":"onClick","targetId":"2542af4f-c12e-5a39-2c8f-f618ccc15de2","targetPort":"run"},{"sourceId":"0d2409da-9f7d-bfce-de3b-4b4432504f1e","sourcePort":"Success","targetId":"6043e3c7-a835-a482-81a0-e4517077f711","targetPort":"sendEvent"}],"ports":[],"roots":["996ccfd6-1abf-48f7-80d5-17f5faeda007"]},{"name":"/Query/Select/Select_fees_models","nodes":[{"id":"c29333ee-d1a5-cb86-824d-7b6aa544cc02","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"c3b50fdf-69c5-9661-e4b7-1a7a82791a2e","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"cba0cac8-9028-be98-9825-94c8b47fcac4","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n\n  let supid = Inputs.Supid;\n  \n  let query = supabase\n  .from('def_fees')\n  .select('supid:id, nome, descrizione, is_active')\n  .eq('is_active', true); // Seleziona solo i record attivi\n\n  const { data, error } = await query;\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  }\n  \n  else {\n  // Trasforma i risultati in un formato { Label, Value }\n  const listData = data.map(modello => ({\n      Value: modello.supid.toString(),\n      Label: modello.nome\n    }));\n\n  //valorizza gli Outputs;\n  Outputs.ListData = listData;\n  Outputs.Success();\n  \n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"in-Supid","displayName":"Supid","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-ListData","displayName":"ListData","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"c29333ee-d1a5-cb86-824d-7b6aa544cc02","sourcePort":"Do","targetId":"cba0cac8-9028-be98-9825-94c8b47fcac4","targetPort":"run"},{"sourceId":"cba0cac8-9028-be98-9825-94c8b47fcac4","sourcePort":"out-Success","targetId":"c3b50fdf-69c5-9661-e4b7-1a7a82791a2e","targetPort":"Success"},{"sourceId":"cba0cac8-9028-be98-9825-94c8b47fcac4","sourcePort":"out-Failure","targetId":"c3b50fdf-69c5-9661-e4b7-1a7a82791a2e","targetPort":"Failure"},{"sourceId":"cba0cac8-9028-be98-9825-94c8b47fcac4","sourcePort":"out-ListData","targetId":"c3b50fdf-69c5-9661-e4b7-1a7a82791a2e","targetPort":"ListData"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"ListData","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/Query/Insert/Insert_soggetto","nodes":[{"id":"248bdca8-f271-5ebc-4fc7-6d17c2b11ef8","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"fd9734b5-08fc-cc0d-fa40-955dad3cf8b8","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\nconst ragsoc = Inputs.Ragsoc;\nconst descr = Inputs.Descr;\nconst tipo = Inputs.Tipo;\nconst fissomese = Inputs.Fissomese;\nconst isVend = Inputs.IsVend;\nconst feesModel = Inputs.FeesModel;\n\ntry {\n\n  // Esegue l'inserimento nella tabella 'soggetti'\n    const { data, error } = await supabase\n        .from('soggetti')\n        .insert([\n            {\n                ragione_sociale: ragsoc,\n                descrizione: descr,\n                tipo: tipo,\n                fisso_mensile: fissomese,\n                is_venditore: isVend,\n                fees_model: feesModel\n            }\n        ]);\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  Outputs.Message = \"Errore\";\n  Outputs.MessageType = \"Error\";\n  }\n  \n  else {\n  Outputs.Success();\n  Outputs.Message = \"Inserimento effettuato con successo\";\n  Outputs.MessageType = \"Success\";\n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"in-Ragsoc","displayName":"Ragsoc","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Descr","displayName":"Descr","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Tipo","displayName":"Tipo","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Fissomese","displayName":"Fissomese","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-IsVend","displayName":"IsVend","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-FeesModel","displayName":"FeesModel","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-Message","displayName":"Message","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-MessageType","displayName":"MessageType","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"5d2f12f8-a776-5776-e1c5-6059bd749e36","type":"/Components/Show Toast","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"248bdca8-f271-5ebc-4fc7-6d17c2b11ef8","sourcePort":"Do","targetId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","targetPort":"run"},{"sourceId":"248bdca8-f271-5ebc-4fc7-6d17c2b11ef8","sourcePort":"ragsoc","targetId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","targetPort":"in-Ragsoc"},{"sourceId":"248bdca8-f271-5ebc-4fc7-6d17c2b11ef8","sourcePort":"descr","targetId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","targetPort":"in-Descr"},{"sourceId":"248bdca8-f271-5ebc-4fc7-6d17c2b11ef8","sourcePort":"tipo","targetId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","targetPort":"in-Tipo"},{"sourceId":"248bdca8-f271-5ebc-4fc7-6d17c2b11ef8","sourcePort":"fissomese","targetId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","targetPort":"in-Fissomese"},{"sourceId":"248bdca8-f271-5ebc-4fc7-6d17c2b11ef8","sourcePort":"isVend","targetId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","targetPort":"in-IsVend"},{"sourceId":"248bdca8-f271-5ebc-4fc7-6d17c2b11ef8","sourcePort":"feesModel","targetId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","targetPort":"in-FeesModel"},{"sourceId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","sourcePort":"out-Success","targetId":"fd9734b5-08fc-cc0d-fa40-955dad3cf8b8","targetPort":"Success"},{"sourceId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","sourcePort":"out-Failure","targetId":"fd9734b5-08fc-cc0d-fa40-955dad3cf8b8","targetPort":"Failure"},{"sourceId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","sourcePort":"out-Message","targetId":"5d2f12f8-a776-5776-e1c5-6059bd749e36","targetPort":"Message"},{"sourceId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","sourcePort":"out-MessageType","targetId":"5d2f12f8-a776-5776-e1c5-6059bd749e36","targetPort":"Type"},{"sourceId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","sourcePort":"out-Success","targetId":"5d2f12f8-a776-5776-e1c5-6059bd749e36","targetPort":"Do"},{"sourceId":"a5613cf4-3290-7bbe-3001-9dfc489e3d9d","sourcePort":"out-Failure","targetId":"5d2f12f8-a776-5776-e1c5-6059bd749e36","targetPort":"Do"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"ragsoc","type":"*","group":"Inputs","plug":"input","index":1},{"name":"descr","type":"*","group":"Inputs","plug":"input","index":2},{"name":"tipo","type":"*","group":"Inputs","plug":"input","index":3},{"name":"fissomese","type":"*","group":"Inputs","plug":"input","index":4},{"name":"isVend","type":"*","group":"Inputs","plug":"input","index":5},{"name":"feesModel","type":"*","group":"Inputs","plug":"input","index":6}],"roots":[]},{"name":"/Pop Up/PopUp_Insert_Scontrino","nodes":[{"id":"190a47a5-ef53-7a44-4382-df3ee2d70a40","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"height":{"value":100,"unit":"%"},"backgroundColor":"transparent","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"8d5ebb19-6717-2e2b-a9ee-b83b33f9d2b9","type":"Text","parameters":{"text":"SCONTRINO","textAlignX":"center","textStyle":"Title Large","color":"Primary Dark","marginBottom":{"value":24,"unit":"px"}},"ports":[],"children":[]},{"id":"758a5815-eef0-7e9f-eec5-3fc88483836f","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"alignItems":"center","sizeMode":"contentHeight","rowGap":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"78729305-0b23-bfae-2c09-31bd02656a94","type":"/Components/Date Picker","parameters":{},"ports":[],"children":[]},{"id":"e220b027-a20b-f98e-9d74-03d586a267df","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"79de75dc-247a-9bc3-706f-44102b583cf6","type":"net.noodl.controls.options","parameters":{"label":"Ramo B.U.","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"5c1b5ac0-b795-cb29-b94d-6093ee97cfb3","type":"net.noodl.controls.options","parameters":{"label":"Business Unit","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"0f4eb6e7-d332-172b-da40-797f0c9cc388","type":"net.noodl.controls.options","parameters":{"label":"Prodotto","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]}]},{"id":"31870d01-729c-1cd8-31aa-3c025468f899","type":"net.noodl.controls.options","parameters":{"label":"Cliente","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"1bfbd755-5e7a-88b9-d99c-4ff8568a5f1a","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"bd0873be-d342-2376-a94d-9749e09c75c3","type":"net.noodl.controls.options","parameters":{"label":"Venditore","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"f08323aa-70fc-a7bf-63da-5e8ba20328ce","type":"net.noodl.controls.options","parameters":{"label":"Setter","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]}]},{"id":"3a50fb1b-b474-6ca7-e706-eadd0659db2b","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"361d9f23-51f6-8163-fbe7-706ce07f024e","type":"net.noodl.controls.options","parameters":{"label":"SalesCoach","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"f95f8ff6-9d22-b9d3-19fc-d8c5622bf6c2","type":"net.noodl.controls.options","parameters":{"label":"LeadGen","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]}]},{"id":"0c10577d-5a17-8338-dc94-5c6512ab3784","type":"net.noodl.controls.textinput","parameters":{"label":"importo","type":"number","placeholder":"Inserisci l'importo"},"ports":[],"children":[]},{"id":"bf1ac7e6-0fd3-1886-4333-e962be57b90d","type":"net.noodl.controls.checkbox","parameters":{"label":"Incassato","useIcon":true},"ports":[],"children":[]},{"id":"e690c6e3-b0e9-639f-72ad-2e8df214db3c","type":"net.noodl.controls.options","parameters":{"label":"Fees Model","items":"[]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"9fbc6142-80d0-cecf-2fa8-8fe4c643ec46","type":"net.noodl.controls.button","parameters":{"label":"Inserisci Scontrino"},"ports":[],"children":[]}]}]},{"id":"19612549-22b0-fa37-b5e7-a9a83f84bee5","type":"/Query/Select/Select_fees_models","parameters":{},"ports":[],"children":[]},{"id":"b07bfb76-d4b0-639d-ac4a-f8de9f375dc9","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"1e44806d-98d9-e360-42d8-89a87aa5b056","type":"JavaScriptFunction","parameters":{"functionScript":"let stringValue = Inputs.Importo;\nOutputs.Importo = +stringValue;\n\n"},"ports":[{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Importo","displayName":"Importo","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"528440f7-4e6b-e9c5-0a9b-b3724f327a09","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Fees = parseInt(Inputs.Fees);"},"ports":[{"name":"in-Fees","displayName":"Fees","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Fees","displayName":"Fees","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"655411e7-e816-64dc-d856-4a086958b377","type":"/Query/Insert/Insert_ricavo","parameters":{},"ports":[],"children":[]},{"id":"ac7f05ba-5fe3-fd2a-9289-329970e6410a","type":"/Query/Select/Select_All_Soggetti","parameters":{},"ports":[],"children":[]},{"id":"a7be975a-06b6-88c0-a066-450e1028d28b","type":"JavaScriptFunction","parameters":{"functionScript":"const arrayAllSoggetti = Inputs.Data;\n\n//Estraggo clienti\nconst clienti = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 1);\n\nconst listClienti = clienti.map(cliente => ({\n    Value: cliente.supid.toString(),\n    Label: cliente.ragione_sociale\n}));\n\nOutputs.Clienti = listClienti;\n\n//Estraggo fornitori\nconst fornitori = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 2);\n\nconst listFornitori = fornitori.map(fornitore => ({\n    Value: fornitore.supid.toString(),\n    Label: fornitore.ragione_sociale\n}));\n\nOutputs.Fornitori = listFornitori;\n\n//Estraggo venditori\nconst venditori = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 2 && soggetto.is_venditore === true);\n\nconst listVenditori = venditori.map(venditore => ({\n    Value: venditore.supid.toString(),\n    Label: venditore.ragione_sociale\n}));\n\nOutputs.Venditori = listVenditori;"},"ports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Clienti","displayName":"Clienti","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Fornitori","displayName":"Fornitori","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Venditori","displayName":"Venditori","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"d773f4aa-7de6-6553-c043-1845fe9358b7","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"a74cee60-b0c2-4bc1-a1c6-0e2816f8d991","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"fcd51d34-bcdd-87f0-2e1d-7a49c44433be","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"760e14f6-7cf4-1fd4-a8ef-14a65b64ea55","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"06ad8745-6ece-219c-e95e-4917b2892ca0","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Creatore = Inputs.CurrentUser.full_name;"},"ports":[{"name":"in-CurrentUser","displayName":"CurrentUser","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Creatore","displayName":"Creatore","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"4b93ef26-c1e5-eae2-9d08-86b0f0b19b89","type":"Model2","parameters":{"modelId":"currentUser","properties":"loggedIn,auth,profile"},"ports":[],"children":[]},{"id":"64546de2-2cca-56c1-72c8-13fb0174ed68","type":"JavaScriptFunction","parameters":{"functionScript":"const creator = Inputs.Creator;\nconst date = Inputs.Date;\nconst importo = Inputs.Importo;\nconst area = Inputs.Area;\nconst gestore = Inputs.Gestore;\nconst soggetto = Inputs.Soggetto;\nconst prodotto = Inputs.Prodotto;\nconst ticket = Inputs.Ticket;\nconst setter = Inputs.Setter;\nconst feesModel = Inputs.FeesModel;\nconst salescoach = Inputs.Salescoach;\nconst leadgen = Inputs.Leadgen;\n\nif (creator && date && importo && area && gestore && soggetto &&\n    prodotto && ticket && setter && feesModel && salescoach && leadgen) {\n    // Se tutte le variabili sono non vuote, lancia l'evento di successo\n    Outputs.Success();\n} else {\n    // Se almeno una variabile è vuota, lancia l'evento di errore\n    Outputs.Error();\n    Outputs.Message = \"Compila tutti i campi!\";\n    Outputs.MessageType = \"Warning\";\n}"},"ports":[{"name":"in-Creator","displayName":"Creator","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Area","displayName":"Area","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Gestore","displayName":"Gestore","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Prodotto","displayName":"Prodotto","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-Ticket","displayName":"Ticket","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-Setter","displayName":"Setter","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-FeesModel","displayName":"FeesModel","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-Salescoach","displayName":"Salescoach","plug":"input","type":"*","group":"Inputs","index":14},{"name":"in-Leadgen","displayName":"Leadgen","plug":"input","type":"*","group":"Inputs","index":15},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":16},{"name":"out-Error","displayName":"Error","plug":"output","type":"signal","group":"Outputs","index":17},{"name":"out-Message","displayName":"Message","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-MessageType","displayName":"MessageType","plug":"output","type":"*","group":"Outputs","index":19}],"children":[]},{"id":"0b574738-6a5a-6842-a7eb-e78a8d04263c","type":"/Components/Show Toast","parameters":{},"ports":[],"children":[]},{"id":"d87f8b21-8f95-1df5-b49d-e8ef032a0e72","type":"/Query/Select/Select_All_Ticket","parameters":{},"ports":[],"children":[]},{"id":"6288304f-32b6-a658-261c-77898b32eefe","type":"/Query/Select/Select_All_Area","parameters":{},"ports":[],"children":[]},{"id":"dee7a343-6e24-cb2a-cbb4-eed1b94dbd8f","type":"/Query/Select/Select_All_Prodotti","parameters":{},"ports":[],"children":[]},{"id":"ec6e5359-6a71-003f-0580-f28e70305eae","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.ID = parseInt(Inputs.ID);"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"ff536f40-1bd7-e7a3-9d5f-560a2c244ae8","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.ID = parseInt(Inputs.ID);"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"3dae51f0-7daf-a05f-6c73-eba7f1a7b42b","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.ID = parseInt(Inputs.ID);"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"51ffb022-95ce-10c3-0258-8c7c1280a151","type":"Event Sender","parameters":{"channelName":"closePopUp"},"ports":[],"children":[]},{"id":"f3ab9724-453c-4ae4-aee2-922cc41b8df6","type":"JavaScriptFunction","parameters":{"functionScript":"const isIncassato = Inputs.IsIncassato;\n\nif (isIncassato) {\n    Outputs.Portafoglio = 1;\n} else { Outputs.Portafoglio = null; }"},"ports":[{"name":"in-IsIncassato","displayName":"IsIncassato","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Portafoglio","displayName":"Portafoglio","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"190a47a5-ef53-7a44-4382-df3ee2d70a40","sourcePort":"didMount","targetId":"19612549-22b0-fa37-b5e7-a9a83f84bee5","targetPort":"Do"},{"sourceId":"19612549-22b0-fa37-b5e7-a9a83f84bee5","sourcePort":"ListData","targetId":"e690c6e3-b0e9-639f-72ad-2e8df214db3c","targetPort":"items"},{"sourceId":"31870d01-729c-1cd8-31aa-3c025468f899","sourcePort":"onChange","targetId":"b07bfb76-d4b0-639d-ac4a-f8de9f375dc9","targetPort":"run"},{"sourceId":"0c10577d-5a17-8338-dc94-5c6512ab3784","sourcePort":"onTextChanged","targetId":"1e44806d-98d9-e360-42d8-89a87aa5b056","targetPort":"in-Importo"},{"sourceId":"0c10577d-5a17-8338-dc94-5c6512ab3784","sourcePort":"textChanged","targetId":"1e44806d-98d9-e360-42d8-89a87aa5b056","targetPort":"run"},{"sourceId":"e690c6e3-b0e9-639f-72ad-2e8df214db3c","sourcePort":"value","targetId":"528440f7-4e6b-e9c5-0a9b-b3724f327a09","targetPort":"in-Fees"},{"sourceId":"e690c6e3-b0e9-639f-72ad-2e8df214db3c","sourcePort":"onChange","targetId":"528440f7-4e6b-e9c5-0a9b-b3724f327a09","targetPort":"run"},{"sourceId":"528440f7-4e6b-e9c5-0a9b-b3724f327a09","sourcePort":"out-Fees","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"feesModel"},{"sourceId":"bf1ac7e6-0fd3-1886-4333-e962be57b90d","sourcePort":"checked","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"payDone"},{"sourceId":"31870d01-729c-1cd8-31aa-3c025468f899","sourcePort":"value","targetId":"b07bfb76-d4b0-639d-ac4a-f8de9f375dc9","targetPort":"in-Soggetto"},{"sourceId":"b07bfb76-d4b0-639d-ac4a-f8de9f375dc9","sourcePort":"out-Soggetto","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"soggetto"},{"sourceId":"ac7f05ba-5fe3-fd2a-9289-329970e6410a","sourcePort":"data","targetId":"a7be975a-06b6-88c0-a066-450e1028d28b","targetPort":"in-Data"},{"sourceId":"ac7f05ba-5fe3-fd2a-9289-329970e6410a","sourcePort":"Success","targetId":"a7be975a-06b6-88c0-a066-450e1028d28b","targetPort":"run"},{"sourceId":"190a47a5-ef53-7a44-4382-df3ee2d70a40","sourcePort":"didMount","targetId":"ac7f05ba-5fe3-fd2a-9289-329970e6410a","targetPort":"Run"},{"sourceId":"bd0873be-d342-2376-a94d-9749e09c75c3","sourcePort":"onChange","targetId":"d773f4aa-7de6-6553-c043-1845fe9358b7","targetPort":"run"},{"sourceId":"bd0873be-d342-2376-a94d-9749e09c75c3","sourcePort":"value","targetId":"d773f4aa-7de6-6553-c043-1845fe9358b7","targetPort":"in-Soggetto"},{"sourceId":"d773f4aa-7de6-6553-c043-1845fe9358b7","sourcePort":"out-Soggetto","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"gestore"},{"sourceId":"f08323aa-70fc-a7bf-63da-5e8ba20328ce","sourcePort":"onChange","targetId":"a74cee60-b0c2-4bc1-a1c6-0e2816f8d991","targetPort":"run"},{"sourceId":"f08323aa-70fc-a7bf-63da-5e8ba20328ce","sourcePort":"value","targetId":"a74cee60-b0c2-4bc1-a1c6-0e2816f8d991","targetPort":"in-Soggetto"},{"sourceId":"a74cee60-b0c2-4bc1-a1c6-0e2816f8d991","sourcePort":"out-Soggetto","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"setter"},{"sourceId":"361d9f23-51f6-8163-fbe7-706ce07f024e","sourcePort":"onChange","targetId":"fcd51d34-bcdd-87f0-2e1d-7a49c44433be","targetPort":"run"},{"sourceId":"361d9f23-51f6-8163-fbe7-706ce07f024e","sourcePort":"value","targetId":"fcd51d34-bcdd-87f0-2e1d-7a49c44433be","targetPort":"in-Soggetto"},{"sourceId":"fcd51d34-bcdd-87f0-2e1d-7a49c44433be","sourcePort":"out-Soggetto","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"salescoach"},{"sourceId":"f95f8ff6-9d22-b9d3-19fc-d8c5622bf6c2","sourcePort":"onChange","targetId":"760e14f6-7cf4-1fd4-a8ef-14a65b64ea55","targetPort":"run"},{"sourceId":"f95f8ff6-9d22-b9d3-19fc-d8c5622bf6c2","sourcePort":"value","targetId":"760e14f6-7cf4-1fd4-a8ef-14a65b64ea55","targetPort":"in-Soggetto"},{"sourceId":"760e14f6-7cf4-1fd4-a8ef-14a65b64ea55","sourcePort":"out-Soggetto","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"leadgen"},{"sourceId":"a7be975a-06b6-88c0-a066-450e1028d28b","sourcePort":"out-Clienti","targetId":"31870d01-729c-1cd8-31aa-3c025468f899","targetPort":"items"},{"sourceId":"a7be975a-06b6-88c0-a066-450e1028d28b","sourcePort":"out-Venditori","targetId":"bd0873be-d342-2376-a94d-9749e09c75c3","targetPort":"items"},{"sourceId":"a7be975a-06b6-88c0-a066-450e1028d28b","sourcePort":"out-Venditori","targetId":"f08323aa-70fc-a7bf-63da-5e8ba20328ce","targetPort":"items"},{"sourceId":"a7be975a-06b6-88c0-a066-450e1028d28b","sourcePort":"out-Venditori","targetId":"361d9f23-51f6-8163-fbe7-706ce07f024e","targetPort":"items"},{"sourceId":"a7be975a-06b6-88c0-a066-450e1028d28b","sourcePort":"out-Venditori","targetId":"f95f8ff6-9d22-b9d3-19fc-d8c5622bf6c2","targetPort":"items"},{"sourceId":"190a47a5-ef53-7a44-4382-df3ee2d70a40","sourcePort":"didMount","targetId":"06ad8745-6ece-219c-e95e-4917b2892ca0","targetPort":"run"},{"sourceId":"4b93ef26-c1e5-eae2-9d08-86b0f0b19b89","sourcePort":"prop-profile","targetId":"06ad8745-6ece-219c-e95e-4917b2892ca0","targetPort":"in-CurrentUser"},{"sourceId":"06ad8745-6ece-219c-e95e-4917b2892ca0","sourcePort":"out-Creatore","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"creator"},{"sourceId":"78729305-0b23-bfae-2c09-31bd02656a94","sourcePort":"Value","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"date"},{"sourceId":"1e44806d-98d9-e360-42d8-89a87aa5b056","sourcePort":"out-Importo","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"importo"},{"sourceId":"78729305-0b23-bfae-2c09-31bd02656a94","sourcePort":"Value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Date"},{"sourceId":"31870d01-729c-1cd8-31aa-3c025468f899","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Soggetto"},{"sourceId":"bd0873be-d342-2376-a94d-9749e09c75c3","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Gestore"},{"sourceId":"f08323aa-70fc-a7bf-63da-5e8ba20328ce","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Setter"},{"sourceId":"361d9f23-51f6-8163-fbe7-706ce07f024e","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Salescoach"},{"sourceId":"f95f8ff6-9d22-b9d3-19fc-d8c5622bf6c2","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Leadgen"},{"sourceId":"0c10577d-5a17-8338-dc94-5c6512ab3784","sourcePort":"onTextChanged","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Importo"},{"sourceId":"e690c6e3-b0e9-639f-72ad-2e8df214db3c","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-FeesModel"},{"sourceId":"9fbc6142-80d0-cecf-2fa8-8fe4c643ec46","sourcePort":"onClick","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"run"},{"sourceId":"64546de2-2cca-56c1-72c8-13fb0174ed68","sourcePort":"out-Error","targetId":"0b574738-6a5a-6842-a7eb-e78a8d04263c","targetPort":"Do"},{"sourceId":"64546de2-2cca-56c1-72c8-13fb0174ed68","sourcePort":"out-Message","targetId":"0b574738-6a5a-6842-a7eb-e78a8d04263c","targetPort":"Message"},{"sourceId":"64546de2-2cca-56c1-72c8-13fb0174ed68","sourcePort":"out-MessageType","targetId":"0b574738-6a5a-6842-a7eb-e78a8d04263c","targetPort":"Type"},{"sourceId":"64546de2-2cca-56c1-72c8-13fb0174ed68","sourcePort":"out-Success","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"Do"},{"sourceId":"d87f8b21-8f95-1df5-b49d-e8ef032a0e72","sourcePort":"list","targetId":"79de75dc-247a-9bc3-706f-44102b583cf6","targetPort":"items"},{"sourceId":"6288304f-32b6-a658-261c-77898b32eefe","sourcePort":"list","targetId":"5c1b5ac0-b795-cb29-b94d-6093ee97cfb3","targetPort":"items"},{"sourceId":"dee7a343-6e24-cb2a-cbb4-eed1b94dbd8f","sourcePort":"list","targetId":"0f4eb6e7-d332-172b-da40-797f0c9cc388","targetPort":"items"},{"sourceId":"190a47a5-ef53-7a44-4382-df3ee2d70a40","sourcePort":"didMount","targetId":"d87f8b21-8f95-1df5-b49d-e8ef032a0e72","targetPort":"Run"},{"sourceId":"190a47a5-ef53-7a44-4382-df3ee2d70a40","sourcePort":"didMount","targetId":"6288304f-32b6-a658-261c-77898b32eefe","targetPort":"Run"},{"sourceId":"190a47a5-ef53-7a44-4382-df3ee2d70a40","sourcePort":"didMount","targetId":"dee7a343-6e24-cb2a-cbb4-eed1b94dbd8f","targetPort":"Run"},{"sourceId":"79de75dc-247a-9bc3-706f-44102b583cf6","sourcePort":"onChange","targetId":"ec6e5359-6a71-003f-0580-f28e70305eae","targetPort":"run"},{"sourceId":"79de75dc-247a-9bc3-706f-44102b583cf6","sourcePort":"value","targetId":"ec6e5359-6a71-003f-0580-f28e70305eae","targetPort":"in-ID"},{"sourceId":"ec6e5359-6a71-003f-0580-f28e70305eae","sourcePort":"out-ID","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"ticket"},{"sourceId":"5c1b5ac0-b795-cb29-b94d-6093ee97cfb3","sourcePort":"onChange","targetId":"ff536f40-1bd7-e7a3-9d5f-560a2c244ae8","targetPort":"run"},{"sourceId":"5c1b5ac0-b795-cb29-b94d-6093ee97cfb3","sourcePort":"value","targetId":"ff536f40-1bd7-e7a3-9d5f-560a2c244ae8","targetPort":"in-ID"},{"sourceId":"ff536f40-1bd7-e7a3-9d5f-560a2c244ae8","sourcePort":"out-ID","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"area"},{"sourceId":"0f4eb6e7-d332-172b-da40-797f0c9cc388","sourcePort":"onChange","targetId":"3dae51f0-7daf-a05f-6c73-eba7f1a7b42b","targetPort":"run"},{"sourceId":"0f4eb6e7-d332-172b-da40-797f0c9cc388","sourcePort":"value","targetId":"3dae51f0-7daf-a05f-6c73-eba7f1a7b42b","targetPort":"in-ID"},{"sourceId":"3dae51f0-7daf-a05f-6c73-eba7f1a7b42b","sourcePort":"out-ID","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"prodotto"},{"sourceId":"06ad8745-6ece-219c-e95e-4917b2892ca0","sourcePort":"out-Creatore","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Creator"},{"sourceId":"79de75dc-247a-9bc3-706f-44102b583cf6","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Ticket"},{"sourceId":"5c1b5ac0-b795-cb29-b94d-6093ee97cfb3","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Area"},{"sourceId":"0f4eb6e7-d332-172b-da40-797f0c9cc388","sourcePort":"value","targetId":"64546de2-2cca-56c1-72c8-13fb0174ed68","targetPort":"in-Prodotto"},{"sourceId":"655411e7-e816-64dc-d856-4a086958b377","sourcePort":"Success","targetId":"51ffb022-95ce-10c3-0258-8c7c1280a151","targetPort":"sendEvent"},{"sourceId":"bf1ac7e6-0fd3-1886-4333-e962be57b90d","sourcePort":"checked","targetId":"f3ab9724-453c-4ae4-aee2-922cc41b8df6","targetPort":"in-IsIncassato"},{"sourceId":"f3ab9724-453c-4ae4-aee2-922cc41b8df6","sourcePort":"out-Portafoglio","targetId":"655411e7-e816-64dc-d856-4a086958b377","targetPort":"portafoglio"}],"ports":[],"roots":["190a47a5-ef53-7a44-4382-df3ee2d70a40"]},{"name":"/Query/Insert/Insert_ricavo","nodes":[{"id":"93eacab2-b813-4dba-78a7-4ed18c738179","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"b6dd9fbe-078d-9d59-45e4-e0acb8d40d28","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\nconst creator = Inputs.Creator;\nconst date = Inputs.Date;\nconst importo = Inputs.Importo;\nconst area = Inputs.Area;\nconst gestore = Inputs.Gestore;\nconst soggetto = Inputs.Soggetto;\nconst prodotto = Inputs.Prodotto;\nconst ticket = Inputs.Ticket;\nconst payDone = Inputs.PayDone;\nconst setter = Inputs.Setter;\nconst feesModel = Inputs.FeesModel;\nconst salescoach = Inputs.Salescoach;\nconst leadgen = Inputs.Leadgen;\nconst portafoglio = Inputs.Portafoglio;\n\n\ntry {\n\n  // Esegue l'inserimento nella tabella 'ricavi'\n    const { data, error } = await supabase\n        .from('ricavi')\n        .insert([\n            {\n                created_by: creator,\n                data: date,\n                importo: importo,\n                an_area: area,\n                an_gestore: gestore,\n                soggetto: soggetto,\n                an_prodotto: prodotto,\n                an_tecnologia: ticket,\n                payment_done: payDone,\n                an_setter: setter,\n                fees: feesModel,\n                an_salescoach: salescoach,\n                an_leadgen: leadgen,\n                portafoglio: portafoglio\n            }\n        ]);\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  Outputs.Message = \"Errore\";\n  Outputs.MessageType = \"Error\";\n  }\n  \n  else {\n  Outputs.Success();\n  Outputs.Message = \"Inserimento effettuato con successo\";\n  Outputs.MessageType = \"Success\";\n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"in-Creator","displayName":"Creator","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Area","displayName":"Area","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Gestore","displayName":"Gestore","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Prodotto","displayName":"Prodotto","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-Ticket","displayName":"Ticket","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-PayDone","displayName":"PayDone","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-Setter","displayName":"Setter","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-FeesModel","displayName":"FeesModel","plug":"input","type":"*","group":"Inputs","index":14},{"name":"in-Salescoach","displayName":"Salescoach","plug":"input","type":"*","group":"Inputs","index":15},{"name":"in-Leadgen","displayName":"Leadgen","plug":"input","type":"*","group":"Inputs","index":16},{"name":"in-Portafoglio","displayName":"Portafoglio","plug":"input","type":"*","group":"Inputs","index":17},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":18},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":19},{"name":"out-Message","displayName":"Message","plug":"output","type":"*","group":"Outputs","index":20},{"name":"out-MessageType","displayName":"MessageType","plug":"output","type":"*","group":"Outputs","index":21}],"children":[]},{"id":"034bd6ed-f95f-37fb-447f-a2775f714cab","type":"/Components/Show Toast","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"Do","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"run"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"feesModel","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-FeesModel"},{"sourceId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","sourcePort":"out-Success","targetId":"b6dd9fbe-078d-9d59-45e4-e0acb8d40d28","targetPort":"Success"},{"sourceId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","sourcePort":"out-Failure","targetId":"b6dd9fbe-078d-9d59-45e4-e0acb8d40d28","targetPort":"Failure"},{"sourceId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","sourcePort":"out-Message","targetId":"034bd6ed-f95f-37fb-447f-a2775f714cab","targetPort":"Message"},{"sourceId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","sourcePort":"out-MessageType","targetId":"034bd6ed-f95f-37fb-447f-a2775f714cab","targetPort":"Type"},{"sourceId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","sourcePort":"out-Success","targetId":"034bd6ed-f95f-37fb-447f-a2775f714cab","targetPort":"Do"},{"sourceId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","sourcePort":"out-Failure","targetId":"034bd6ed-f95f-37fb-447f-a2775f714cab","targetPort":"Do"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"creator","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Creator"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"date","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Date"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"importo","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Importo"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"area","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Area"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"gestore","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Gestore"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"soggetto","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Soggetto"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"prodotto","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Prodotto"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"ticket","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Ticket"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"payDone","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-PayDone"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"setter","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Setter"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"salescoach","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Salescoach"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"leadgen","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Leadgen"},{"sourceId":"93eacab2-b813-4dba-78a7-4ed18c738179","sourcePort":"portafoglio","targetId":"5c06314b-6ba1-3c04-2ca9-006a8a5932c6","targetPort":"in-Portafoglio"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"feesModel","type":"*","group":"Inputs","plug":"input","index":6},{"name":"creator","type":"*","group":"Inputs","plug":"input","index":7},{"name":"date","type":"*","group":"Inputs","plug":"input","index":8},{"name":"importo","type":"*","group":"Inputs","plug":"input","index":9},{"name":"area","type":"*","group":"Inputs","plug":"input","index":10},{"name":"gestore","type":"*","group":"Inputs","plug":"input","index":11},{"name":"soggetto","type":"*","group":"Inputs","plug":"input","index":12},{"name":"prodotto","type":"*","group":"Inputs","plug":"input","index":13},{"name":"ticket","type":"*","group":"Inputs","plug":"input","index":14},{"name":"payDone","type":"*","group":"Inputs","plug":"input","index":15},{"name":"setter","type":"*","group":"Inputs","plug":"input","index":16},{"name":"salescoach","type":"*","group":"Inputs","plug":"input","index":17},{"name":"leadgen","type":"*","group":"Inputs","plug":"input","index":18},{"name":"portafoglio","type":"*","group":"Inputs","plug":"input","index":19}],"roots":[]},{"name":"/Query/Select/Select_All_Soggetti","nodes":[{"id":"8b59bbf0-a298-6919-e718-0f8e2b20e29c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"f7a06c73-bde6-3923-251d-e442f77c73d4","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"856ac23a-a6f3-dc8c-88e9-028a1e375e70","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n  \n  let query = supabase\n  .from('soggetti')\n  .select('supid:id, ragione_sociale, tipo, is_venditore, fees_model');\n\n  const { data, error } = await query;\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  }\n  \n  else {\n  // Trasforma i risultati in un formato { Label, Value }\n  const listData = data.map(soggetto => ({\n      Value: soggetto.supid.toString(),\n      Label: soggetto.ragione_sociale\n    }));\n\n  //valorizza gli Outputs;\n  Outputs.Data = data;\n  Outputs.ListData = listData;\n  Outputs.Success();\n  \n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-ListData","displayName":"ListData","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"8b59bbf0-a298-6919-e718-0f8e2b20e29c","sourcePort":"Run","targetId":"856ac23a-a6f3-dc8c-88e9-028a1e375e70","targetPort":"run"},{"sourceId":"856ac23a-a6f3-dc8c-88e9-028a1e375e70","sourcePort":"out-Success","targetId":"f7a06c73-bde6-3923-251d-e442f77c73d4","targetPort":"Success"},{"sourceId":"856ac23a-a6f3-dc8c-88e9-028a1e375e70","sourcePort":"out-Data","targetId":"f7a06c73-bde6-3923-251d-e442f77c73d4","targetPort":"data"},{"sourceId":"856ac23a-a6f3-dc8c-88e9-028a1e375e70","sourcePort":"out-ListData","targetId":"f7a06c73-bde6-3923-251d-e442f77c73d4","targetPort":"list"}],"ports":[{"name":"data","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"list","type":"*","plug":"output","index":3}],"roots":[]},{"name":"/Query/Select/Select_All_Ticket","nodes":[{"id":"ac489090-6d01-0cb8-0e72-4fb40db14a21","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"33981bcb-b957-618b-5c5e-6445da4f1723","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"bbfb4ef5-7404-abe9-8f9a-d84c2cabc872","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n  \n  let query = supabase\n  .from('def_an_tecnologia')\n  .select('supid:id, nome');\n\n  const { data, error } = await query;\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  }\n  \n  else {\n  // Trasforma i risultati in un formato { Label, Value }\n  const listData = data.map(ticket => ({\n      Value: ticket.supid.toString(),\n      Label: ticket.nome\n    }));\n\n  //valorizza gli Outputs;\n  Outputs.Data = data;\n  Outputs.ListData = listData;\n  Outputs.Success();\n  \n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-ListData","displayName":"ListData","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"ac489090-6d01-0cb8-0e72-4fb40db14a21","sourcePort":"Run","targetId":"bbfb4ef5-7404-abe9-8f9a-d84c2cabc872","targetPort":"run"},{"sourceId":"bbfb4ef5-7404-abe9-8f9a-d84c2cabc872","sourcePort":"out-Success","targetId":"33981bcb-b957-618b-5c5e-6445da4f1723","targetPort":"Success"},{"sourceId":"bbfb4ef5-7404-abe9-8f9a-d84c2cabc872","sourcePort":"out-Data","targetId":"33981bcb-b957-618b-5c5e-6445da4f1723","targetPort":"data"},{"sourceId":"bbfb4ef5-7404-abe9-8f9a-d84c2cabc872","sourcePort":"out-ListData","targetId":"33981bcb-b957-618b-5c5e-6445da4f1723","targetPort":"list"}],"ports":[{"name":"data","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"list","type":"*","plug":"output","index":3}],"roots":[]},{"name":"/Query/Select/Select_All_Area","nodes":[{"id":"d374a9a6-8d61-3e43-e6d0-2ec54dd38345","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"8b0f2e40-8885-dd54-0ae9-aaabe51d41ad","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"91e1ebf3-f3dc-84fa-27bc-fdd9b697b48a","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n  \n  let query = supabase\n  .from('def_an_area')\n  .select('supid:id, nome');\n\n  const { data, error } = await query;\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  }\n  \n  else {\n  // Trasforma i risultati in un formato { Label, Value }\n  const listData = data.map(area => ({\n      Value: area.supid.toString(),\n      Label: area.nome\n    }));\n\n  //valorizza gli Outputs;\n  Outputs.Data = data;\n  Outputs.ListData = listData;\n  Outputs.Success();\n  \n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-ListData","displayName":"ListData","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"d374a9a6-8d61-3e43-e6d0-2ec54dd38345","sourcePort":"Run","targetId":"91e1ebf3-f3dc-84fa-27bc-fdd9b697b48a","targetPort":"run"},{"sourceId":"91e1ebf3-f3dc-84fa-27bc-fdd9b697b48a","sourcePort":"out-Success","targetId":"8b0f2e40-8885-dd54-0ae9-aaabe51d41ad","targetPort":"Success"},{"sourceId":"91e1ebf3-f3dc-84fa-27bc-fdd9b697b48a","sourcePort":"out-Data","targetId":"8b0f2e40-8885-dd54-0ae9-aaabe51d41ad","targetPort":"data"},{"sourceId":"91e1ebf3-f3dc-84fa-27bc-fdd9b697b48a","sourcePort":"out-ListData","targetId":"8b0f2e40-8885-dd54-0ae9-aaabe51d41ad","targetPort":"list"}],"ports":[{"name":"data","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"list","type":"*","plug":"output","index":3}],"roots":[]},{"name":"/Query/Select/Select_All_Prodotti","nodes":[{"id":"c4cc8f55-41ae-43b8-a056-3259995867e2","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"4a8f3122-bbb9-db66-5d50-272d2063d115","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"d3ad82d8-0061-8c34-0d42-8fc441331a82","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n  \n  let query = supabase\n  .from('prodotti')\n  .select('supid:id, nome, descrizione');\n\n  const { data, error } = await query;\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  }\n  \n  else {\n  // Trasforma i risultati in un formato { Label, Value }\n  const listData = data.map(prodotto => ({\n      Value: prodotto.supid.toString(),\n      Label: prodotto.nome\n    }));\n\n  //valorizza gli Outputs;\n  Outputs.Data = data;\n  Outputs.ListData = listData;\n  Outputs.Success();\n  \n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-ListData","displayName":"ListData","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"c4cc8f55-41ae-43b8-a056-3259995867e2","sourcePort":"Run","targetId":"d3ad82d8-0061-8c34-0d42-8fc441331a82","targetPort":"run"},{"sourceId":"d3ad82d8-0061-8c34-0d42-8fc441331a82","sourcePort":"out-Success","targetId":"4a8f3122-bbb9-db66-5d50-272d2063d115","targetPort":"Success"},{"sourceId":"d3ad82d8-0061-8c34-0d42-8fc441331a82","sourcePort":"out-Data","targetId":"4a8f3122-bbb9-db66-5d50-272d2063d115","targetPort":"data"},{"sourceId":"d3ad82d8-0061-8c34-0d42-8fc441331a82","sourcePort":"out-ListData","targetId":"4a8f3122-bbb9-db66-5d50-272d2063d115","targetPort":"list"}],"ports":[{"name":"data","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"list","type":"*","plug":"output","index":3}],"roots":[]},{"name":"/Pop Up/PopUp_Insert_Rata","nodes":[{"id":"71221ae2-ace8-2e62-1b18-e5bbde005cd3","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"height":{"value":100,"unit":"%"},"backgroundColor":"transparent","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"47b443a3-eb3a-37a4-ee21-d3148caee4c2","type":"Text","parameters":{"text":"RATA","textAlignX":"center","textStyle":"Title Large","color":"Primary Dark","marginBottom":{"value":24,"unit":"px"}},"ports":[],"children":[]},{"id":"e810d93e-8e1a-017c-7a1b-19295211e97c","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"alignItems":"center","sizeMode":"contentHeight","rowGap":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"d15739e7-3d0c-220d-634a-2ad78d53ea94","type":"/Components/Date Picker","parameters":{},"ports":[],"children":[]},{"id":"33262c75-3fba-868d-ebdd-fb848be604e8","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"ae4850b6-6267-deca-2fb9-2da8f0c11d33","type":"net.noodl.controls.options","parameters":{"label":"Ticket","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"e39e802c-3951-3f57-4eb8-0b9df2124b0f","type":"net.noodl.controls.options","parameters":{"label":"Area","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"64b4b8fe-3df0-c7fd-640b-3949c450b605","type":"net.noodl.controls.options","parameters":{"label":"Prodotto","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]}]},{"id":"14484c6c-e5b1-9239-de6b-2ab79e3799ee","type":"net.noodl.controls.options","parameters":{"label":"Cliente","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"1b9383ac-462a-72c6-460c-bfc66f06b464","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"74537741-ec3c-744a-d7a9-95d42ab6d2d3","type":"net.noodl.controls.options","parameters":{"label":"Venditore","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"57d84200-b31e-106f-9615-56d2fb73f440","type":"net.noodl.controls.options","parameters":{"label":"Setter","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]}]},{"id":"7dd53049-88b8-adb1-08b4-7f0288756fdc","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"913a1969-74cb-51fe-1d5e-d42e6ad7fb95","type":"net.noodl.controls.options","parameters":{"label":"SalesCoach","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"f78363ef-cce5-23fb-a413-636e777ac63e","type":"net.noodl.controls.options","parameters":{"label":"LeadGen","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]}]},{"id":"b3efee1f-d536-8320-64c6-2b46a06ebe7e","type":"net.noodl.controls.textinput","parameters":{"label":"importo","type":"number","placeholder":"Inserisci l'importo"},"ports":[],"children":[]},{"id":"5b90e401-8570-46c8-2c9c-2ec40fdda2fd","type":"net.noodl.controls.checkbox","parameters":{"label":"Incassato","useIcon":true},"ports":[],"children":[]},{"id":"7a250234-c3d8-eefc-3594-01b1ee4a7085","type":"net.noodl.controls.options","parameters":{"label":"Fees Model","items":"[]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"e7b744dd-c34a-29ad-04c0-45fbb77a393c","type":"net.noodl.controls.button","parameters":{"label":"Inserisci Scontrino"},"ports":[],"children":[]}]}]},{"id":"4ff7a212-8100-0027-5d79-edc0785bb71f","type":"/Query/Select/Select_fees_models","parameters":{},"ports":[],"children":[]},{"id":"2abceb3d-c891-b30c-f0b6-8503eb5f4549","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"3cca032d-551d-8cfa-b170-d9777448064e","type":"JavaScriptFunction","parameters":{"functionScript":"let stringValue = Inputs.Importo;\nOutputs.Importo = +stringValue;\n\n"},"ports":[{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Importo","displayName":"Importo","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"70c102c5-f6b3-bdf0-bc18-b3baea29c3e1","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Fees = parseInt(Inputs.Fees);"},"ports":[{"name":"in-Fees","displayName":"Fees","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Fees","displayName":"Fees","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"e015472a-2863-8830-dbc8-8dd91b73d91a","type":"/Query/Insert/Insert_ricavo","parameters":{},"ports":[],"children":[]},{"id":"2acd0c78-d8a6-e489-9ae9-6658ed2ae462","type":"/Query/Select/Select_All_Soggetti","parameters":{},"ports":[],"children":[]},{"id":"faa69dbd-131e-2565-08d2-5ba241b64de9","type":"JavaScriptFunction","parameters":{"functionScript":"const arrayAllSoggetti = Inputs.Data;\n\n//Estraggo clienti\nconst clienti = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 1);\n\nconst listClienti = clienti.map(cliente => ({\n    Value: cliente.supid.toString(),\n    Label: cliente.ragione_sociale\n}));\n\nOutputs.Clienti = listClienti;\n\n//Estraggo fornitori\nconst fornitori = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 2);\n\nconst listFornitori = fornitori.map(fornitore => ({\n    Value: fornitore.supid.toString(),\n    Label: fornitore.ragione_sociale\n}));\n\nOutputs.Fornitori = listFornitori;\n\n//Estraggo venditori\nconst venditori = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 2 && soggetto.is_venditore === true);\n\nconst listVenditori = venditori.map(venditore => ({\n    Value: venditore.supid.toString(),\n    Label: venditore.ragione_sociale\n}));\n\nOutputs.Venditori = listVenditori;"},"ports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Clienti","displayName":"Clienti","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Fornitori","displayName":"Fornitori","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Venditori","displayName":"Venditori","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"7115d919-6328-cecb-341d-6f5219dd1dd6","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"46f3e224-0c51-5268-3dbe-4271d59c1be8","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"f58ae1ad-9a03-c5dc-d1f6-0fe0a1000155","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"aa6d2430-6f05-67ba-6b37-cc7ef0903041","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"85fd72b8-2725-de1f-9c56-3d9d2a122eeb","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Creatore = Inputs.CurrentUser.full_name;"},"ports":[{"name":"in-CurrentUser","displayName":"CurrentUser","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Creatore","displayName":"Creatore","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"622026fc-37f4-fa96-0de6-d6aa56ebab5f","type":"Model2","parameters":{"modelId":"currentUser","properties":"loggedIn,auth,profile"},"ports":[],"children":[]},{"id":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","type":"JavaScriptFunction","parameters":{"functionScript":"const creator = Inputs.Creator;\nconst date = Inputs.Date;\nconst importo = Inputs.Importo;\nconst area = Inputs.Area;\nconst gestore = Inputs.Gestore;\nconst soggetto = Inputs.Soggetto;\nconst prodotto = Inputs.Prodotto;\nconst ticket = Inputs.Ticket;\nconst setter = Inputs.Setter;\nconst feesModel = Inputs.FeesModel;\nconst salescoach = Inputs.Salescoach;\nconst leadgen = Inputs.Leadgen;\n\nif (creator && date && importo && area && gestore && soggetto &&\n    prodotto && ticket && setter && feesModel && salescoach && leadgen) {\n    // Se tutte le variabili sono non vuote, lancia l'evento di successo\n    Outputs.Success();\n} else {\n    // Se almeno una variabile è vuota, lancia l'evento di errore\n    Outputs.Error();\n    Outputs.Message = \"Compila tutti i campi!\";\n    Outputs.MessageType = \"Warning\";\n}"},"ports":[{"name":"in-Creator","displayName":"Creator","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Area","displayName":"Area","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Gestore","displayName":"Gestore","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Prodotto","displayName":"Prodotto","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-Ticket","displayName":"Ticket","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-Setter","displayName":"Setter","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-FeesModel","displayName":"FeesModel","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-Salescoach","displayName":"Salescoach","plug":"input","type":"*","group":"Inputs","index":14},{"name":"in-Leadgen","displayName":"Leadgen","plug":"input","type":"*","group":"Inputs","index":15},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":16},{"name":"out-Error","displayName":"Error","plug":"output","type":"signal","group":"Outputs","index":17},{"name":"out-Message","displayName":"Message","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-MessageType","displayName":"MessageType","plug":"output","type":"*","group":"Outputs","index":19}],"children":[]},{"id":"5cfe74ac-2706-70bf-2d24-a19abba561ea","type":"/Components/Show Toast","parameters":{},"ports":[],"children":[]},{"id":"42fed036-105b-3d54-07e9-7ca344f0fa58","type":"/Query/Select/Select_All_Ticket","parameters":{},"ports":[],"children":[]},{"id":"dbca8253-731a-1cb1-18e9-c3bcc6612d1e","type":"/Query/Select/Select_All_Area","parameters":{},"ports":[],"children":[]},{"id":"5c19e9de-a7b8-2fd1-4ca5-717706af3064","type":"/Query/Select/Select_All_Prodotti","parameters":{},"ports":[],"children":[]},{"id":"df420cf9-9d65-d9db-667e-718b4bf4f574","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.ID = parseInt(Inputs.ID);"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"c65221f8-ec57-e257-8266-59d9acfcd9ad","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.ID = parseInt(Inputs.ID);"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"93754293-fa53-2aee-3111-b722cd548225","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.ID = parseInt(Inputs.ID);"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"a275c393-1618-809f-b9a7-26344a60bd3a","type":"Event Sender","parameters":{"channelName":"closePopUp"},"ports":[],"children":[]}],"connections":[{"sourceId":"71221ae2-ace8-2e62-1b18-e5bbde005cd3","sourcePort":"didMount","targetId":"4ff7a212-8100-0027-5d79-edc0785bb71f","targetPort":"Do"},{"sourceId":"4ff7a212-8100-0027-5d79-edc0785bb71f","sourcePort":"ListData","targetId":"7a250234-c3d8-eefc-3594-01b1ee4a7085","targetPort":"items"},{"sourceId":"14484c6c-e5b1-9239-de6b-2ab79e3799ee","sourcePort":"onChange","targetId":"2abceb3d-c891-b30c-f0b6-8503eb5f4549","targetPort":"run"},{"sourceId":"b3efee1f-d536-8320-64c6-2b46a06ebe7e","sourcePort":"onTextChanged","targetId":"3cca032d-551d-8cfa-b170-d9777448064e","targetPort":"in-Importo"},{"sourceId":"b3efee1f-d536-8320-64c6-2b46a06ebe7e","sourcePort":"textChanged","targetId":"3cca032d-551d-8cfa-b170-d9777448064e","targetPort":"run"},{"sourceId":"7a250234-c3d8-eefc-3594-01b1ee4a7085","sourcePort":"value","targetId":"70c102c5-f6b3-bdf0-bc18-b3baea29c3e1","targetPort":"in-Fees"},{"sourceId":"7a250234-c3d8-eefc-3594-01b1ee4a7085","sourcePort":"onChange","targetId":"70c102c5-f6b3-bdf0-bc18-b3baea29c3e1","targetPort":"run"},{"sourceId":"70c102c5-f6b3-bdf0-bc18-b3baea29c3e1","sourcePort":"out-Fees","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"feesModel"},{"sourceId":"5b90e401-8570-46c8-2c9c-2ec40fdda2fd","sourcePort":"checked","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"payDone"},{"sourceId":"14484c6c-e5b1-9239-de6b-2ab79e3799ee","sourcePort":"value","targetId":"2abceb3d-c891-b30c-f0b6-8503eb5f4549","targetPort":"in-Soggetto"},{"sourceId":"2abceb3d-c891-b30c-f0b6-8503eb5f4549","sourcePort":"out-Soggetto","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"soggetto"},{"sourceId":"2acd0c78-d8a6-e489-9ae9-6658ed2ae462","sourcePort":"data","targetId":"faa69dbd-131e-2565-08d2-5ba241b64de9","targetPort":"in-Data"},{"sourceId":"2acd0c78-d8a6-e489-9ae9-6658ed2ae462","sourcePort":"Success","targetId":"faa69dbd-131e-2565-08d2-5ba241b64de9","targetPort":"run"},{"sourceId":"71221ae2-ace8-2e62-1b18-e5bbde005cd3","sourcePort":"didMount","targetId":"2acd0c78-d8a6-e489-9ae9-6658ed2ae462","targetPort":"Run"},{"sourceId":"74537741-ec3c-744a-d7a9-95d42ab6d2d3","sourcePort":"onChange","targetId":"7115d919-6328-cecb-341d-6f5219dd1dd6","targetPort":"run"},{"sourceId":"74537741-ec3c-744a-d7a9-95d42ab6d2d3","sourcePort":"value","targetId":"7115d919-6328-cecb-341d-6f5219dd1dd6","targetPort":"in-Soggetto"},{"sourceId":"7115d919-6328-cecb-341d-6f5219dd1dd6","sourcePort":"out-Soggetto","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"gestore"},{"sourceId":"57d84200-b31e-106f-9615-56d2fb73f440","sourcePort":"onChange","targetId":"46f3e224-0c51-5268-3dbe-4271d59c1be8","targetPort":"run"},{"sourceId":"57d84200-b31e-106f-9615-56d2fb73f440","sourcePort":"value","targetId":"46f3e224-0c51-5268-3dbe-4271d59c1be8","targetPort":"in-Soggetto"},{"sourceId":"46f3e224-0c51-5268-3dbe-4271d59c1be8","sourcePort":"out-Soggetto","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"setter"},{"sourceId":"913a1969-74cb-51fe-1d5e-d42e6ad7fb95","sourcePort":"onChange","targetId":"f58ae1ad-9a03-c5dc-d1f6-0fe0a1000155","targetPort":"run"},{"sourceId":"913a1969-74cb-51fe-1d5e-d42e6ad7fb95","sourcePort":"value","targetId":"f58ae1ad-9a03-c5dc-d1f6-0fe0a1000155","targetPort":"in-Soggetto"},{"sourceId":"f58ae1ad-9a03-c5dc-d1f6-0fe0a1000155","sourcePort":"out-Soggetto","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"salescoach"},{"sourceId":"f78363ef-cce5-23fb-a413-636e777ac63e","sourcePort":"onChange","targetId":"aa6d2430-6f05-67ba-6b37-cc7ef0903041","targetPort":"run"},{"sourceId":"f78363ef-cce5-23fb-a413-636e777ac63e","sourcePort":"value","targetId":"aa6d2430-6f05-67ba-6b37-cc7ef0903041","targetPort":"in-Soggetto"},{"sourceId":"aa6d2430-6f05-67ba-6b37-cc7ef0903041","sourcePort":"out-Soggetto","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"leadgen"},{"sourceId":"faa69dbd-131e-2565-08d2-5ba241b64de9","sourcePort":"out-Clienti","targetId":"14484c6c-e5b1-9239-de6b-2ab79e3799ee","targetPort":"items"},{"sourceId":"faa69dbd-131e-2565-08d2-5ba241b64de9","sourcePort":"out-Venditori","targetId":"74537741-ec3c-744a-d7a9-95d42ab6d2d3","targetPort":"items"},{"sourceId":"faa69dbd-131e-2565-08d2-5ba241b64de9","sourcePort":"out-Venditori","targetId":"57d84200-b31e-106f-9615-56d2fb73f440","targetPort":"items"},{"sourceId":"faa69dbd-131e-2565-08d2-5ba241b64de9","sourcePort":"out-Venditori","targetId":"913a1969-74cb-51fe-1d5e-d42e6ad7fb95","targetPort":"items"},{"sourceId":"faa69dbd-131e-2565-08d2-5ba241b64de9","sourcePort":"out-Venditori","targetId":"f78363ef-cce5-23fb-a413-636e777ac63e","targetPort":"items"},{"sourceId":"71221ae2-ace8-2e62-1b18-e5bbde005cd3","sourcePort":"didMount","targetId":"85fd72b8-2725-de1f-9c56-3d9d2a122eeb","targetPort":"run"},{"sourceId":"622026fc-37f4-fa96-0de6-d6aa56ebab5f","sourcePort":"prop-profile","targetId":"85fd72b8-2725-de1f-9c56-3d9d2a122eeb","targetPort":"in-CurrentUser"},{"sourceId":"85fd72b8-2725-de1f-9c56-3d9d2a122eeb","sourcePort":"out-Creatore","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"creator"},{"sourceId":"d15739e7-3d0c-220d-634a-2ad78d53ea94","sourcePort":"Value","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"date"},{"sourceId":"3cca032d-551d-8cfa-b170-d9777448064e","sourcePort":"out-Importo","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"importo"},{"sourceId":"d15739e7-3d0c-220d-634a-2ad78d53ea94","sourcePort":"Value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Date"},{"sourceId":"14484c6c-e5b1-9239-de6b-2ab79e3799ee","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Soggetto"},{"sourceId":"74537741-ec3c-744a-d7a9-95d42ab6d2d3","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Gestore"},{"sourceId":"57d84200-b31e-106f-9615-56d2fb73f440","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Setter"},{"sourceId":"913a1969-74cb-51fe-1d5e-d42e6ad7fb95","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Salescoach"},{"sourceId":"f78363ef-cce5-23fb-a413-636e777ac63e","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Leadgen"},{"sourceId":"b3efee1f-d536-8320-64c6-2b46a06ebe7e","sourcePort":"onTextChanged","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Importo"},{"sourceId":"7a250234-c3d8-eefc-3594-01b1ee4a7085","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-FeesModel"},{"sourceId":"e7b744dd-c34a-29ad-04c0-45fbb77a393c","sourcePort":"onClick","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"run"},{"sourceId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","sourcePort":"out-Error","targetId":"5cfe74ac-2706-70bf-2d24-a19abba561ea","targetPort":"Do"},{"sourceId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","sourcePort":"out-Message","targetId":"5cfe74ac-2706-70bf-2d24-a19abba561ea","targetPort":"Message"},{"sourceId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","sourcePort":"out-MessageType","targetId":"5cfe74ac-2706-70bf-2d24-a19abba561ea","targetPort":"Type"},{"sourceId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","sourcePort":"out-Success","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"Do"},{"sourceId":"42fed036-105b-3d54-07e9-7ca344f0fa58","sourcePort":"list","targetId":"ae4850b6-6267-deca-2fb9-2da8f0c11d33","targetPort":"items"},{"sourceId":"dbca8253-731a-1cb1-18e9-c3bcc6612d1e","sourcePort":"list","targetId":"e39e802c-3951-3f57-4eb8-0b9df2124b0f","targetPort":"items"},{"sourceId":"5c19e9de-a7b8-2fd1-4ca5-717706af3064","sourcePort":"list","targetId":"64b4b8fe-3df0-c7fd-640b-3949c450b605","targetPort":"items"},{"sourceId":"71221ae2-ace8-2e62-1b18-e5bbde005cd3","sourcePort":"didMount","targetId":"42fed036-105b-3d54-07e9-7ca344f0fa58","targetPort":"Run"},{"sourceId":"71221ae2-ace8-2e62-1b18-e5bbde005cd3","sourcePort":"didMount","targetId":"dbca8253-731a-1cb1-18e9-c3bcc6612d1e","targetPort":"Run"},{"sourceId":"71221ae2-ace8-2e62-1b18-e5bbde005cd3","sourcePort":"didMount","targetId":"5c19e9de-a7b8-2fd1-4ca5-717706af3064","targetPort":"Run"},{"sourceId":"ae4850b6-6267-deca-2fb9-2da8f0c11d33","sourcePort":"onChange","targetId":"df420cf9-9d65-d9db-667e-718b4bf4f574","targetPort":"run"},{"sourceId":"ae4850b6-6267-deca-2fb9-2da8f0c11d33","sourcePort":"value","targetId":"df420cf9-9d65-d9db-667e-718b4bf4f574","targetPort":"in-ID"},{"sourceId":"df420cf9-9d65-d9db-667e-718b4bf4f574","sourcePort":"out-ID","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"ticket"},{"sourceId":"e39e802c-3951-3f57-4eb8-0b9df2124b0f","sourcePort":"onChange","targetId":"c65221f8-ec57-e257-8266-59d9acfcd9ad","targetPort":"run"},{"sourceId":"e39e802c-3951-3f57-4eb8-0b9df2124b0f","sourcePort":"value","targetId":"c65221f8-ec57-e257-8266-59d9acfcd9ad","targetPort":"in-ID"},{"sourceId":"c65221f8-ec57-e257-8266-59d9acfcd9ad","sourcePort":"out-ID","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"area"},{"sourceId":"64b4b8fe-3df0-c7fd-640b-3949c450b605","sourcePort":"onChange","targetId":"93754293-fa53-2aee-3111-b722cd548225","targetPort":"run"},{"sourceId":"64b4b8fe-3df0-c7fd-640b-3949c450b605","sourcePort":"value","targetId":"93754293-fa53-2aee-3111-b722cd548225","targetPort":"in-ID"},{"sourceId":"93754293-fa53-2aee-3111-b722cd548225","sourcePort":"out-ID","targetId":"e015472a-2863-8830-dbc8-8dd91b73d91a","targetPort":"prodotto"},{"sourceId":"85fd72b8-2725-de1f-9c56-3d9d2a122eeb","sourcePort":"out-Creatore","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Creator"},{"sourceId":"ae4850b6-6267-deca-2fb9-2da8f0c11d33","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Ticket"},{"sourceId":"e39e802c-3951-3f57-4eb8-0b9df2124b0f","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Area"},{"sourceId":"64b4b8fe-3df0-c7fd-640b-3949c450b605","sourcePort":"value","targetId":"036844da-73e9-1f2b-1a50-a14a9a96ec0b","targetPort":"in-Prodotto"},{"sourceId":"e015472a-2863-8830-dbc8-8dd91b73d91a","sourcePort":"Success","targetId":"a275c393-1618-809f-b9a7-26344a60bd3a","targetPort":"sendEvent"}],"ports":[],"roots":["71221ae2-ace8-2e62-1b18-e5bbde005cd3"]},{"name":"/Pop Up/PopUp_Insert_Costo","nodes":[{"id":"a065426e-9801-28da-229e-7486d3a708bc","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"height":{"value":100,"unit":"%"},"backgroundColor":"transparent","paddingLeft":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"d7803431-33a0-637c-f129-cbc7b1bd222f","type":"Text","parameters":{"text":"COSTO","textAlignX":"center","textStyle":"Title Large","color":"Primary Dark","marginBottom":{"value":24,"unit":"px"}},"ports":[],"children":[]},{"id":"a5ba1164-ec41-00e6-3d88-dbb1aa2a6324","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"alignItems":"center","sizeMode":"contentHeight","rowGap":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"cfcd95d5-3a9a-e93a-9196-46fdde3d9bfe","type":"/Components/Date Picker","parameters":{},"ports":[],"children":[]},{"id":"e0f5926f-4cd1-55db-8d91-167af38fedbc","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"7d9057af-2ba7-406d-0c4e-8c1111c9a790","type":"net.noodl.controls.options","parameters":{"label":"Ticket","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"a1fcb17a-7a2c-edb1-e164-fcf696fc617a","type":"net.noodl.controls.options","parameters":{"label":"Area","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]}]},{"id":"2e3441f9-02f9-ed13-d642-df7953984e3d","type":"net.noodl.controls.options","parameters":{"label":"Fornitore","items":"[\n    {\"Label\":\"Cliente\", \"Value\":\"1\"},\n    {\"Label\":\"Fornitore\", \"Value\":\"2\"}\n]","placeholder":"Scegli dall'elenco"},"ports":[],"children":[]},{"id":"2575db8a-660a-e6f7-7e6b-03425276ebda","type":"net.noodl.controls.textinput","parameters":{"label":"importo","type":"number","placeholder":"Inserisci l'importo"},"ports":[],"children":[]},{"id":"eb3887c3-7ee0-c2d4-57b0-a67699c2f436","type":"net.noodl.controls.textinput","parameters":{"placeholder":"Inserisci (opzionale)","label":"Descrizione"},"ports":[],"children":[]},{"id":"1b39f8a5-a06a-1832-d1bb-ba5c61e444df","type":"net.noodl.controls.checkbox","parameters":{"label":"Pagato","useIcon":true},"ports":[],"children":[]},{"id":"b7da77ae-9f81-4690-a56e-6d6b3bd6d2d4","type":"net.noodl.controls.button","parameters":{"label":"Inserisci Costo"},"ports":[],"children":[]}]}]},{"id":"2e8bbb1f-ecaa-95b1-335c-231633d8e206","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Soggetto = parseInt(Inputs.Soggetto);"},"ports":[{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Soggetto","displayName":"Soggetto","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"6852167e-743a-205e-e42a-bab5840f093c","type":"JavaScriptFunction","parameters":{"functionScript":"let stringValue = Inputs.Importo;\nOutputs.Importo = +stringValue;\n\n"},"ports":[{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Importo","displayName":"Importo","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"4b822032-3c8c-5724-55dc-127325cf0a84","type":"/Query/Select/Select_All_Soggetti","parameters":{},"ports":[],"children":[]},{"id":"d1ccd423-20e4-9fcb-cd9d-1ac338fe17d3","type":"JavaScriptFunction","parameters":{"functionScript":"const arrayAllSoggetti = Inputs.Data;\n\n//Estraggo clienti\nconst clienti = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 2);\n\nconst listClienti = clienti.map(cliente => ({\n    Value: cliente.supid.toString(),\n    Label: cliente.ragione_sociale\n}));\n\nOutputs.Clienti = listClienti;\n\n//Estraggo fornitori\nconst fornitori = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 2);\n\nconst listFornitori = fornitori.map(fornitore => ({\n    Value: fornitore.supid.toString(),\n    Label: fornitore.ragione_sociale\n}));\n\nOutputs.Fornitori = listFornitori;\n\n//Estraggo venditori\nconst venditori = arrayAllSoggetti.filter(soggetto => soggetto.tipo === 2 && soggetto.is_venditore === true);\n\nconst listVenditori = venditori.map(venditore => ({\n    Value: venditore.supid.toString(),\n    Label: venditore.ragione_sociale\n}));\n\nOutputs.Venditori = listVenditori;"},"ports":[{"name":"in-Data","displayName":"Data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Clienti","displayName":"Clienti","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-Fornitori","displayName":"Fornitori","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Venditori","displayName":"Venditori","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"f1167277-d6fe-fa99-3963-0ccb137e69c2","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Creatore = Inputs.CurrentUser.full_name;"},"ports":[{"name":"in-CurrentUser","displayName":"CurrentUser","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Creatore","displayName":"Creatore","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"296c3906-269a-ed43-16f9-46a58fc7ba62","type":"Model2","parameters":{"modelId":"currentUser","properties":"loggedIn,auth,profile"},"ports":[],"children":[]},{"id":"5c326ab1-ad4e-a20c-459f-f73d71b66579","type":"JavaScriptFunction","parameters":{"functionScript":"const creator = Inputs.Creator;\nconst date = Inputs.Date;\nconst importo = Inputs.Importo;\nconst area = Inputs.Area;\nconst soggetto = Inputs.Soggetto;\nconst ticket = Inputs.Ticket;\n\nif (creator && date && importo && area && soggetto && ticket) {\n    // Se tutte le variabili sono non vuote, lancia l'evento di successo\n    Outputs.Success();\n} else {\n    // Se almeno una variabile è vuota, lancia l'evento di errore\n    Outputs.Error();\n    Outputs.Message = \"Compila tutti i campi!\";\n    Outputs.MessageType = \"Warning\";\n}"},"ports":[{"name":"in-Creator","displayName":"Creator","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Area","displayName":"Area","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Ticket","displayName":"Ticket","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-Error","displayName":"Error","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-Message","displayName":"Message","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-MessageType","displayName":"MessageType","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"23ade5a1-ff6d-a000-05c9-c0581dc5b72f","type":"/Components/Show Toast","parameters":{},"ports":[],"children":[]},{"id":"f672878b-fbff-aa4f-d33b-d2ef920c34c9","type":"/Query/Select/Select_All_Ticket","parameters":{},"ports":[],"children":[]},{"id":"6d645aaa-b2c5-7541-2dc3-ee533bc8b359","type":"/Query/Select/Select_All_Area","parameters":{},"ports":[],"children":[]},{"id":"4a282332-ee8e-b864-ea6b-674a56e919c3","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.ID = parseInt(Inputs.ID);"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"2095b0ef-eca9-5825-51db-be58642752a9","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.ID = parseInt(Inputs.ID);"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"2f604b67-0c0c-56a9-84fc-1e85ee81bc95","type":"Event Sender","parameters":{"channelName":"closePopUp"},"ports":[],"children":[]},{"id":"1df09d37-5590-1e4b-5e41-86e74f1146a6","type":"/Query/Insert/Insert_costo","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"2e3441f9-02f9-ed13-d642-df7953984e3d","sourcePort":"onChange","targetId":"2e8bbb1f-ecaa-95b1-335c-231633d8e206","targetPort":"run"},{"sourceId":"2575db8a-660a-e6f7-7e6b-03425276ebda","sourcePort":"onTextChanged","targetId":"6852167e-743a-205e-e42a-bab5840f093c","targetPort":"in-Importo"},{"sourceId":"2575db8a-660a-e6f7-7e6b-03425276ebda","sourcePort":"textChanged","targetId":"6852167e-743a-205e-e42a-bab5840f093c","targetPort":"run"},{"sourceId":"2e3441f9-02f9-ed13-d642-df7953984e3d","sourcePort":"value","targetId":"2e8bbb1f-ecaa-95b1-335c-231633d8e206","targetPort":"in-Soggetto"},{"sourceId":"4b822032-3c8c-5724-55dc-127325cf0a84","sourcePort":"data","targetId":"d1ccd423-20e4-9fcb-cd9d-1ac338fe17d3","targetPort":"in-Data"},{"sourceId":"4b822032-3c8c-5724-55dc-127325cf0a84","sourcePort":"Success","targetId":"d1ccd423-20e4-9fcb-cd9d-1ac338fe17d3","targetPort":"run"},{"sourceId":"a065426e-9801-28da-229e-7486d3a708bc","sourcePort":"didMount","targetId":"4b822032-3c8c-5724-55dc-127325cf0a84","targetPort":"Run"},{"sourceId":"a065426e-9801-28da-229e-7486d3a708bc","sourcePort":"didMount","targetId":"f1167277-d6fe-fa99-3963-0ccb137e69c2","targetPort":"run"},{"sourceId":"296c3906-269a-ed43-16f9-46a58fc7ba62","sourcePort":"prop-profile","targetId":"f1167277-d6fe-fa99-3963-0ccb137e69c2","targetPort":"in-CurrentUser"},{"sourceId":"cfcd95d5-3a9a-e93a-9196-46fdde3d9bfe","sourcePort":"Value","targetId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","targetPort":"in-Date"},{"sourceId":"2e3441f9-02f9-ed13-d642-df7953984e3d","sourcePort":"value","targetId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","targetPort":"in-Soggetto"},{"sourceId":"2575db8a-660a-e6f7-7e6b-03425276ebda","sourcePort":"onTextChanged","targetId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","targetPort":"in-Importo"},{"sourceId":"b7da77ae-9f81-4690-a56e-6d6b3bd6d2d4","sourcePort":"onClick","targetId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","targetPort":"run"},{"sourceId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","sourcePort":"out-Error","targetId":"23ade5a1-ff6d-a000-05c9-c0581dc5b72f","targetPort":"Do"},{"sourceId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","sourcePort":"out-Message","targetId":"23ade5a1-ff6d-a000-05c9-c0581dc5b72f","targetPort":"Message"},{"sourceId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","sourcePort":"out-MessageType","targetId":"23ade5a1-ff6d-a000-05c9-c0581dc5b72f","targetPort":"Type"},{"sourceId":"f672878b-fbff-aa4f-d33b-d2ef920c34c9","sourcePort":"list","targetId":"7d9057af-2ba7-406d-0c4e-8c1111c9a790","targetPort":"items"},{"sourceId":"6d645aaa-b2c5-7541-2dc3-ee533bc8b359","sourcePort":"list","targetId":"a1fcb17a-7a2c-edb1-e164-fcf696fc617a","targetPort":"items"},{"sourceId":"a065426e-9801-28da-229e-7486d3a708bc","sourcePort":"didMount","targetId":"f672878b-fbff-aa4f-d33b-d2ef920c34c9","targetPort":"Run"},{"sourceId":"a065426e-9801-28da-229e-7486d3a708bc","sourcePort":"didMount","targetId":"6d645aaa-b2c5-7541-2dc3-ee533bc8b359","targetPort":"Run"},{"sourceId":"7d9057af-2ba7-406d-0c4e-8c1111c9a790","sourcePort":"onChange","targetId":"4a282332-ee8e-b864-ea6b-674a56e919c3","targetPort":"run"},{"sourceId":"7d9057af-2ba7-406d-0c4e-8c1111c9a790","sourcePort":"value","targetId":"4a282332-ee8e-b864-ea6b-674a56e919c3","targetPort":"in-ID"},{"sourceId":"a1fcb17a-7a2c-edb1-e164-fcf696fc617a","sourcePort":"onChange","targetId":"2095b0ef-eca9-5825-51db-be58642752a9","targetPort":"run"},{"sourceId":"a1fcb17a-7a2c-edb1-e164-fcf696fc617a","sourcePort":"value","targetId":"2095b0ef-eca9-5825-51db-be58642752a9","targetPort":"in-ID"},{"sourceId":"f1167277-d6fe-fa99-3963-0ccb137e69c2","sourcePort":"out-Creatore","targetId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","targetPort":"in-Creator"},{"sourceId":"7d9057af-2ba7-406d-0c4e-8c1111c9a790","sourcePort":"value","targetId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","targetPort":"in-Ticket"},{"sourceId":"a1fcb17a-7a2c-edb1-e164-fcf696fc617a","sourcePort":"value","targetId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","targetPort":"in-Area"},{"sourceId":"d1ccd423-20e4-9fcb-cd9d-1ac338fe17d3","sourcePort":"out-Fornitori","targetId":"2e3441f9-02f9-ed13-d642-df7953984e3d","targetPort":"items"},{"sourceId":"f1167277-d6fe-fa99-3963-0ccb137e69c2","sourcePort":"out-Creatore","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"creator"},{"sourceId":"cfcd95d5-3a9a-e93a-9196-46fdde3d9bfe","sourcePort":"Value","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"date"},{"sourceId":"4a282332-ee8e-b864-ea6b-674a56e919c3","sourcePort":"out-ID","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"ticket"},{"sourceId":"2095b0ef-eca9-5825-51db-be58642752a9","sourcePort":"out-ID","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"area"},{"sourceId":"2e8bbb1f-ecaa-95b1-335c-231633d8e206","sourcePort":"out-Soggetto","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"soggetto"},{"sourceId":"6852167e-743a-205e-e42a-bab5840f093c","sourcePort":"out-Importo","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"importo"},{"sourceId":"eb3887c3-7ee0-c2d4-57b0-a67699c2f436","sourcePort":"onTextChanged","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"descrizione"},{"sourceId":"1b39f8a5-a06a-1832-d1bb-ba5c61e444df","sourcePort":"checked","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"payDone"},{"sourceId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","sourcePort":"Success","targetId":"2f604b67-0c0c-56a9-84fc-1e85ee81bc95","targetPort":"sendEvent"},{"sourceId":"5c326ab1-ad4e-a20c-459f-f73d71b66579","sourcePort":"out-Success","targetId":"1df09d37-5590-1e4b-5e41-86e74f1146a6","targetPort":"Do"}],"ports":[],"roots":["a065426e-9801-28da-229e-7486d3a708bc"]},{"name":"/Query/Insert/Insert_costo","nodes":[{"id":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"37207edb-2f50-7441-7d81-29a954b5c060","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\nconst creator = Inputs.Creator;\nconst date = Inputs.Date;\nconst importo = Inputs.Importo;\nconst area = Inputs.Area;\nconst soggetto = Inputs.Soggetto;\nconst ticket = Inputs.Ticket;\nconst payDone = Inputs.PayDone;\nconst descrizione = Inputs.Descrizione;\n\n\ntry {\n\n  // Esegue l'inserimento nella tabella 'ricavi'\n    const { data, error } = await supabase\n        .from('ricavi')\n        .insert([\n            {\n                created_by: creator,\n                data: date,\n                importo: importo,\n                an_area: area,\n                soggetto: soggetto,\n                an_tecnologia: ticket,\n                payment_done: payDone,\n                descrizione: descrizione\n            }\n        ]);\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  Outputs.Message = \"Errore\";\n  Outputs.MessageType = \"Error\";\n  }\n  \n  else {\n  Outputs.Success();\n  Outputs.Message = \"Inserimento effettuato con successo\";\n  Outputs.MessageType = \"Success\";\n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"in-Creator","displayName":"Creator","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Importo","displayName":"Importo","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Area","displayName":"Area","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Soggetto","displayName":"Soggetto","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Ticket","displayName":"Ticket","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-PayDone","displayName":"PayDone","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-Descrizione","displayName":"Descrizione","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-Message","displayName":"Message","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-MessageType","displayName":"MessageType","plug":"output","type":"*","group":"Outputs","index":15}],"children":[]},{"id":"24e67ba8-4d4b-fc3a-7572-690649622257","type":"/Components/Show Toast","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"Do","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"run"},{"sourceId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","sourcePort":"out-Success","targetId":"37207edb-2f50-7441-7d81-29a954b5c060","targetPort":"Success"},{"sourceId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","sourcePort":"out-Failure","targetId":"37207edb-2f50-7441-7d81-29a954b5c060","targetPort":"Failure"},{"sourceId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","sourcePort":"out-Message","targetId":"24e67ba8-4d4b-fc3a-7572-690649622257","targetPort":"Message"},{"sourceId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","sourcePort":"out-MessageType","targetId":"24e67ba8-4d4b-fc3a-7572-690649622257","targetPort":"Type"},{"sourceId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","sourcePort":"out-Success","targetId":"24e67ba8-4d4b-fc3a-7572-690649622257","targetPort":"Do"},{"sourceId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","sourcePort":"out-Failure","targetId":"24e67ba8-4d4b-fc3a-7572-690649622257","targetPort":"Do"},{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"creator","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"in-Creator"},{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"date","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"in-Date"},{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"importo","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"in-Importo"},{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"area","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"in-Area"},{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"soggetto","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"in-Soggetto"},{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"ticket","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"in-Ticket"},{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"payDone","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"in-PayDone"},{"sourceId":"f0bfb496-c893-ab47-5a97-868ce5d06f9c","sourcePort":"descrizione","targetId":"4bc5ff71-2d8b-c947-2c42-9d35f5441db2","targetPort":"in-Descrizione"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"creator","type":"*","group":"Inputs","plug":"input","index":7},{"name":"date","type":"*","group":"Inputs","plug":"input","index":8},{"name":"importo","type":"*","group":"Inputs","plug":"input","index":9},{"name":"area","type":"*","group":"Inputs","plug":"input","index":10},{"name":"soggetto","type":"*","group":"Inputs","plug":"input","index":12},{"name":"ticket","type":"*","group":"Inputs","plug":"input","index":14},{"name":"payDone","type":"*","group":"Inputs","plug":"input","index":15},{"name":"descrizione","type":"*","group":"Inputs","plug":"input","index":16}],"roots":[]}]