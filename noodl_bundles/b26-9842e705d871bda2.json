[{"name":"/#Supabase Prefab/Supabase Prefab/Core/Supabase - Example Request","nodes":[{"id":"ef7137c7-e527-3b3e-d8e6-61b51a7e9c1c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"aadeeea1-2d72-0821-1474-1c7efe95a6a8","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"bf1cea24-7be2-5ea4-5e4a-035e9c3a3690","type":"JavaScriptFunction","parameters":{"functionScript":"\nconst supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n  const { data, error } = await supabase.from('companies').select('*');\n\n  if (error) {\n    console.error(error)\n    Outputs.Failure();\n  } else {\n    Outputs.Companies = data;\n    Outputs.Success();\n  }\n} catch (error) {\n    console.error(error)\n  Outputs.Failure();\n}\n"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Companies","displayName":"Companies","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"ef7137c7-e527-3b3e-d8e6-61b51a7e9c1c","sourcePort":"Do","targetId":"bf1cea24-7be2-5ea4-5e4a-035e9c3a3690","targetPort":"run"},{"sourceId":"bf1cea24-7be2-5ea4-5e4a-035e9c3a3690","sourcePort":"out-Success","targetId":"aadeeea1-2d72-0821-1474-1c7efe95a6a8","targetPort":"Success"},{"sourceId":"bf1cea24-7be2-5ea4-5e4a-035e9c3a3690","sourcePort":"out-Failure","targetId":"aadeeea1-2d72-0821-1474-1c7efe95a6a8","targetPort":"Failure"},{"sourceId":"bf1cea24-7be2-5ea4-5e4a-035e9c3a3690","sourcePort":"out-Companies","targetId":"aadeeea1-2d72-0821-1474-1c7efe95a6a8","targetPort":"Companies"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"Companies","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Example App Root","nodes":[{"id":"85529bbf-6c01-c0c7-1249-31bb29d9eb1f","type":"Group","parameters":{"backgroundColor":"#FFFFFF","minHeight":{"value":100,"unit":"vh"}},"ports":[],"children":[{"id":"48cc0d3d-9df8-d88a-d396-b56b7551b525","type":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Header","parameters":{},"ports":[],"children":[]},{"id":"2504cdc8-525d-9d7d-7eb9-e1fa21026395","type":"Group","parameters":{"paddingLeft":{"value":16,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"paddingBottom":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"887fafaa-b8c0-f443-8863-3d1e3491f3a7","type":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Full Router","parameters":{},"ports":[],"children":[]}]}]},{"id":"3d6fbe1c-e474-522e-447a-fd9d12873603","type":"/#Supabase Prefab/Supabase Prefab/Core/Supabase - Setup Client","parameters":{"Supabase URL":"","Supabase Anon Key":""},"ports":[],"children":[]},{"id":"0973cfdf-36b4-71ca-9838-dda7fde6c0b5","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Auth","parameters":{},"ports":[],"children":[]},{"id":"ed0488dc-2ddb-b1c1-e23c-e42fa922960e","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Profile Data","parameters":{},"ports":[],"children":[]},{"id":"b77a9470-4696-0661-a68f-dc8795db69db","type":"RouterNavigate","parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/User Profile"},"ports":[],"children":[]},{"id":"5793f09b-c333-c449-0d73-da7fa681a454","type":"Condition","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"ed0488dc-2ddb-b1c1-e23c-e42fa922960e","sourcePort":"Success","targetId":"b77a9470-4696-0661-a68f-dc8795db69db","targetPort":"navigate"},{"sourceId":"3d6fbe1c-e474-522e-447a-fd9d12873603","sourcePort":"Success","targetId":"0973cfdf-36b4-71ca-9838-dda7fde6c0b5","targetPort":"Do"},{"sourceId":"85529bbf-6c01-c0c7-1249-31bb29d9eb1f","sourcePort":"didMount","targetId":"3d6fbe1c-e474-522e-447a-fd9d12873603","targetPort":"Do"},{"sourceId":"0973cfdf-36b4-71ca-9838-dda7fde6c0b5","sourcePort":"Done","targetId":"5793f09b-c333-c449-0d73-da7fa681a454","targetPort":"eval"},{"sourceId":"0973cfdf-36b4-71ca-9838-dda7fde6c0b5","sourcePort":"Logged In","targetId":"5793f09b-c333-c449-0d73-da7fa681a454","targetPort":"condition"},{"sourceId":"5793f09b-c333-c449-0d73-da7fa681a454","sourcePort":"ontrue","targetId":"ed0488dc-2ddb-b1c1-e23c-e42fa922960e","targetPort":"Do"},{"sourceId":"0973cfdf-36b4-71ca-9838-dda7fde6c0b5","sourcePort":"Logged In","targetId":"887fafaa-b8c0-f443-8863-3d1e3491f3a7","targetPort":"Is User Logged In"}],"ports":[],"roots":["85529bbf-6c01-c0c7-1249-31bb29d9eb1f"]},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Full Router","nodes":[{"id":"1aa76abb-11b3-0413-66a1-103be936c6e0","type":"Group","parameters":{},"ports":[],"children":[{"id":"fcd565f1-f52c-cb03-eb48-6b604c44d7bc","type":"Router","parameters":{"name":"Supabase Not Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up"],"startPage":"/#Supabase Prefab/Supabase Prefab/Pages/Log in"},"mounted":false},"ports":[],"children":[]},{"id":"bc1964ad-6469-84df-478d-3f306ae7c60d","type":"Router","parameters":{"name":"Supabase Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password","/Home","/Scadenze","/Venditore","/ForzaVendite","/Creazione"],"startPage":"/Home"},"mounted":false},"ports":[],"children":[]},{"id":"8ca3c51c-f840-2f9b-9cca-baf5d103b8c7","type":"Router","parameters":{"name":"Supabase Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password","/Home","/Scadenze","/Creazione"],"startPage":"/Home"},"mounted":false},"ports":[],"children":[]},{"id":"df785466-1462-bab9-574b-941fa2769078","type":"Router","parameters":{"name":"Supabase Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password","/Venditore","/ForzaVendite","/Creazione"],"startPage":"/Venditore"},"mounted":false},"ports":[],"children":[]}]},{"id":"28e3c067-fc82-7bc7-9412-5ba1ea7bfe58","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"21544dd1-a78a-1a55-80b4-074f38fd7405","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"c2bffe68-f207-04dd-a56c-bf8cf6de6652","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n  const { data, error } = await supabase.from('profiles').select('*');\n\n  if (error) {\n    console.error(error)\n    Outputs.Failure();\n  } else {\n    Outputs.IsAdmin = data[0].is_admin;\n    Outputs.Success();\n  }\n\n}\n\ncatch (error) {\n    console.error(error)\n  Outputs.Failure();\n}\n\n"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-IsAdmin","displayName":"IsAdmin","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"cfb2a40d-b71c-6560-c294-3c73e5e8a7a9","type":"Inverter","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"28e3c067-fc82-7bc7-9412-5ba1ea7bfe58","sourcePort":"Is User Logged In","targetId":"21544dd1-a78a-1a55-80b4-074f38fd7405","targetPort":"value"},{"sourceId":"21544dd1-a78a-1a55-80b4-074f38fd7405","sourcePort":"result","targetId":"fcd565f1-f52c-cb03-eb48-6b604c44d7bc","targetPort":"mounted"},{"sourceId":"28e3c067-fc82-7bc7-9412-5ba1ea7bfe58","sourcePort":"Is User Logged In","targetId":"c2bffe68-f207-04dd-a56c-bf8cf6de6652","targetPort":"run"},{"sourceId":"c2bffe68-f207-04dd-a56c-bf8cf6de6652","sourcePort":"out-IsAdmin","targetId":"8ca3c51c-f840-2f9b-9cca-baf5d103b8c7","targetPort":"mounted"},{"sourceId":"c2bffe68-f207-04dd-a56c-bf8cf6de6652","sourcePort":"out-IsAdmin","targetId":"cfb2a40d-b71c-6560-c294-3c73e5e8a7a9","targetPort":"value"},{"sourceId":"cfb2a40d-b71c-6560-c294-3c73e5e8a7a9","sourcePort":"result","targetId":"df785466-1462-bab9-574b-941fa2769078","targetPort":"mounted"},{"sourceId":"c2bffe68-f207-04dd-a56c-bf8cf6de6652","sourcePort":"out-Success","targetId":"8ca3c51c-f840-2f9b-9cca-baf5d103b8c7","targetPort":"reset"}],"ports":[{"name":"Is User Logged In","type":{"name":"boolean","allowConnectionsOnly":true},"plug":"input","index":1}],"roots":["1aa76abb-11b3-0413-66a1-103be936c6e0"]},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Header","nodes":[{"id":"5cc65c42-bbbd-57c6-825b-c893d77eb325","type":"Group","parameters":{"paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"borderBottomStyle":"solid","borderBottomColor":"#5836F533","borderBottomWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowOffsetY":{"value":8,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowColor":"#5836F533","borderStyle":"none","maxHeight":{"value":80,"unit":"px"},"mounted":true,"sizeMode":"contentHeight","position":"sticky","flexDirection":"row"},"ports":[],"children":[{"id":"b5ab5088-54e7-c185-bacb-59d3f5aa138e","type":"Group","parameters":{"alignY":"center","flexDirection":"row","marginRight":{"value":20,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"46554cff-3d90-4678-90f0-57e9539a1b92","type":"Group","parameters":{"sizeMode":"contentWidth","alignY":"center","marginRight":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"8cbe4bea-ec94-83cd-2e74-d45c93a8a793","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"home","codeAsClass":false},"iconColor":"Grey - 700","iconSize":{"value":24,"unit":"px"}},"ports":[],"children":[]}]},{"id":"571f61f5-5f83-e0fc-3214-33c1d9eae034","type":"Text","parameters":{"text":"Logged out"},"ports":[],"children":[]}]},{"id":"291ce909-14b8-8144-bddf-1e5ad0d0fc3e","type":"Group","parameters":{"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","sizeMode":"contentSize","flexDirection":"row","paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"justifyContent":"space-between","borderRadius":{"value":5,"unit":"px"},"mounted":false,"columnGap":{"value":20,"unit":"px"},"alignY":"center"},"ports":[],"children":[{"id":"b287b1bd-6dbc-493d-afbd-379c9025be82","type":"net.noodl.controls.button","parameters":{"label":"Log in"},"ports":[],"children":[]},{"id":"4add5d80-2721-2126-cc2d-83fbaa1cfb8f","type":"net.noodl.controls.button","parameters":{"label":"Sign up","alignY":"center"},"ports":[],"children":[]}]},{"id":"df09063c-9a07-ed8a-0d21-8354dfef87c3","type":"Group","parameters":{"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","sizeMode":"contentSize","flexDirection":"row","paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"justifyContent":"space-between","borderRadius":{"value":5,"unit":"px"},"mounted":false,"columnGap":{"value":16,"unit":"px"},"alignY":"center"},"ports":[],"children":[{"id":"6abc90f6-da33-ce3e-0aa2-66b60eeb4b01","type":"net.noodl.controls.button","parameters":{"label":"Main"},"ports":[],"children":[]},{"id":"4aba06f3-e111-e72b-dfac-3cdbc339a0fe","type":"net.noodl.controls.button","parameters":{"label":"Profile"},"ports":[],"children":[]},{"id":"4c3749e6-3b05-eb92-c20e-afa8bb581efc","type":"net.noodl.controls.button","parameters":{"sizeMode":"contentSize","alignY":"center","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"logout","codeAsClass":false},"iconColor":"Grey - 700","iconSize":{"value":16,"unit":"px"},"backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"7960d1da-c4be-8ae2-b3dd-4432d035a958","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Log Out","parameters":{},"ports":[],"children":[]},{"id":"f2d15516-ff49-f1d9-d7fe-f52e80938123","type":"RouterNavigate","parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"ports":[],"children":[]},{"id":"35653277-c593-4c39-3e46-27d981ae1e40","type":"Model2","parameters":{"modelId":"currentUser","properties":"loggedIn,auth,profile"},"ports":[],"children":[]},{"id":"4d1ef586-9634-0e5c-364d-d7b2481d022b","type":"States","parameters":{"states":"logged in,logged out","values":"logged in,header message","type-logged in":"boolean","type-message":"string","type-header message":"string","currentState":"false","value-logged in-logged in":true,"value-logged in-header message":"logged IN","value-logged out-header message":"logged OUT","useTransitions":false},"ports":[],"children":[]},{"id":"7e119aea-52cd-590d-04a4-7f209c054bf3","type":"RouterNavigate","parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Log in"},"ports":[],"children":[]},{"id":"c5456d51-df62-7061-dc51-06af4b553f5e","type":"RouterNavigate","parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Sign up"},"ports":[],"children":[]},{"id":"f37757af-67e1-c3ce-27c8-58d6d2c129c8","type":"Boolean To String","parameters":{"trueString":"logged in","falseString":"logged out"},"ports":[],"children":[]},{"id":"e156d56e-cee9-8b61-7601-8dde267b845b","type":"RouterNavigate","parameters":{"router":"Supabase Logged In Router","target":"/Home"},"ports":[],"children":[]},{"id":"434b79db-922b-35f9-b33b-60599b915c80","type":"RouterNavigate","parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/User Profile"},"ports":[],"children":[]},{"id":"c754611c-8d00-5d5e-d34c-518c09e34a8c","type":"JavaScriptFunction","parameters":{"functionScript":"if (Inputs.loggedIn) {\n    if (Boolean(Inputs.profile)) {\n        Outputs.display = Inputs.profile.first_name || Inputs.auth.email\n    } else {\n        Outputs.display = Inputs.auth.email\n    }\n} else {\n    Outputs.display = \"Welcome !\"\n}"},"ports":[{"name":"in-loggedIn","displayName":"loggedIn","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-profile","displayName":"profile","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-auth","displayName":"auth","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-display","displayName":"display","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"e57e46a4-b94d-ba8e-9602-3bd14823aa3f","type":"Event Receiver","parameters":{"channelName":"Supabase User Logged In"},"ports":[],"children":[]},{"id":"8db90c93-2df4-2004-46b0-f237f28dc60b","type":"Event Receiver","parameters":{"channelName":"Supabase Current User Updated"},"ports":[],"children":[]},{"id":"69400100-d979-2ff6-7444-cc2e67587e23","type":"Event Receiver","parameters":{"channelName":"Supabase User Logged Out"},"ports":[],"children":[]},{"id":"6cd64d4d-f5e3-115c-b75c-ca315399c5d3","type":"RouterNavigate","parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"ports":[],"children":[]}],"connections":[{"sourceId":"46554cff-3d90-4678-90f0-57e9539a1b92","sourcePort":"onClick","targetId":"f2d15516-ff49-f1d9-d7fe-f52e80938123","targetPort":"navigate"},{"sourceId":"4d1ef586-9634-0e5c-364d-d7b2481d022b","sourcePort":"at-logged in","targetId":"df09063c-9a07-ed8a-0d21-8354dfef87c3","targetPort":"mounted"},{"sourceId":"4d1ef586-9634-0e5c-364d-d7b2481d022b","sourcePort":"at-logged out","targetId":"291ce909-14b8-8144-bddf-1e5ad0d0fc3e","targetPort":"mounted"},{"sourceId":"b287b1bd-6dbc-493d-afbd-379c9025be82","sourcePort":"onClick","targetId":"7e119aea-52cd-590d-04a4-7f209c054bf3","targetPort":"navigate"},{"sourceId":"4add5d80-2721-2126-cc2d-83fbaa1cfb8f","sourcePort":"onClick","targetId":"c5456d51-df62-7061-dc51-06af4b553f5e","targetPort":"navigate"},{"sourceId":"35653277-c593-4c39-3e46-27d981ae1e40","sourcePort":"prop-loggedIn","targetId":"f37757af-67e1-c3ce-27c8-58d6d2c129c8","targetPort":"input"},{"sourceId":"f37757af-67e1-c3ce-27c8-58d6d2c129c8","sourcePort":"currentValue","targetId":"4d1ef586-9634-0e5c-364d-d7b2481d022b","targetPort":"currentState"},{"sourceId":"6abc90f6-da33-ce3e-0aa2-66b60eeb4b01","sourcePort":"onClick","targetId":"e156d56e-cee9-8b61-7601-8dde267b845b","targetPort":"navigate"},{"sourceId":"4aba06f3-e111-e72b-dfac-3cdbc339a0fe","sourcePort":"onClick","targetId":"434b79db-922b-35f9-b33b-60599b915c80","targetPort":"navigate"},{"sourceId":"c754611c-8d00-5d5e-d34c-518c09e34a8c","sourcePort":"out-display","targetId":"571f61f5-5f83-e0fc-3214-33c1d9eae034","targetPort":"text"},{"sourceId":"35653277-c593-4c39-3e46-27d981ae1e40","sourcePort":"prop-auth","targetId":"c754611c-8d00-5d5e-d34c-518c09e34a8c","targetPort":"in-auth"},{"sourceId":"35653277-c593-4c39-3e46-27d981ae1e40","sourcePort":"prop-profile","targetId":"c754611c-8d00-5d5e-d34c-518c09e34a8c","targetPort":"in-profile"},{"sourceId":"e57e46a4-b94d-ba8e-9602-3bd14823aa3f","sourcePort":"eventReceived","targetId":"35653277-c593-4c39-3e46-27d981ae1e40","targetPort":"fetch"},{"sourceId":"8db90c93-2df4-2004-46b0-f237f28dc60b","sourcePort":"eventReceived","targetId":"35653277-c593-4c39-3e46-27d981ae1e40","targetPort":"fetch"},{"sourceId":"e57e46a4-b94d-ba8e-9602-3bd14823aa3f","sourcePort":"eventReceived","targetId":"c754611c-8d00-5d5e-d34c-518c09e34a8c","targetPort":"run"},{"sourceId":"8db90c93-2df4-2004-46b0-f237f28dc60b","sourcePort":"eventReceived","targetId":"c754611c-8d00-5d5e-d34c-518c09e34a8c","targetPort":"run"},{"sourceId":"69400100-d979-2ff6-7444-cc2e67587e23","sourcePort":"eventReceived","targetId":"35653277-c593-4c39-3e46-27d981ae1e40","targetPort":"fetch"},{"sourceId":"69400100-d979-2ff6-7444-cc2e67587e23","sourcePort":"eventReceived","targetId":"c754611c-8d00-5d5e-d34c-518c09e34a8c","targetPort":"run"},{"sourceId":"35653277-c593-4c39-3e46-27d981ae1e40","sourcePort":"prop-loggedIn","targetId":"c754611c-8d00-5d5e-d34c-518c09e34a8c","targetPort":"in-loggedIn"},{"sourceId":"4c3749e6-3b05-eb92-c20e-afa8bb581efc","sourcePort":"onClick","targetId":"7960d1da-c4be-8ae2-b3dd-4432d035a958","targetPort":"Do"},{"sourceId":"7960d1da-c4be-8ae2-b3dd-4432d035a958","sourcePort":"Success","targetId":"6cd64d4d-f5e3-115c-b75c-ca315399c5d3","targetPort":"navigate"}],"ports":[],"roots":["5cc65c42-bbbd-57c6-825b-c893d77eb325"]},{"name":"/Components/Show Toast/Error","nodes":[{"id":"226942b1-21cb-6381-f572-accec3135de7","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5f284987-35c7-2baf-679c-d7da3003da07","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000033","borderWidth":{"value":1,"unit":"px"},"borderColor":"Danger","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"22965973-23f2-a128-f40f-9f840c4b1603","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#F75A4F3F","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"1cacb321-843b-62cc-a704-3523640a3f1f","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"error"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Danger"},"ports":[],"children":[]}]},{"id":"93b2973c-ef99-65ab-181f-38a66329e068","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"children":[]}]}],"connections":[{"sourceId":"226942b1-21cb-6381-f572-accec3135de7","sourcePort":"Message","targetId":"93b2973c-ef99-65ab-181f-38a66329e068","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["5f284987-35c7-2baf-679c-d7da3003da07"]},{"name":"/Components/Show Toast/Normal","nodes":[{"id":"d598d702-f6dc-04d7-3f03-a6da2214e95d","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000026","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"height":{"value":56,"unit":"px"},"justifyContent":"center"},"ports":[],"children":[{"id":"a1d8a113-2419-6a43-1366-f7be6560bccd","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Medium"},"ports":[],"children":[]}]},{"id":"b08760f0-ecbc-e159-efcb-13a3faf61c54","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"b08760f0-ecbc-e159-efcb-13a3faf61c54","sourcePort":"Message","targetId":"a1d8a113-2419-6a43-1366-f7be6560bccd","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["d598d702-f6dc-04d7-3f03-a6da2214e95d"]},{"name":"/Components/Show Toast/Success","nodes":[{"id":"9e09da1e-2ead-77eb-688e-192319a7c548","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000019","borderWidth":{"value":1,"unit":"px"},"borderColor":"Success","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"d1c013fc-16d7-2a1b-bd09-30259b131fef","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#49AD7F3F","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"6ccba9f3-e98b-4d0a-9456-ae5cdfb7a276","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"check_circle"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Success"},"ports":[],"children":[]}]},{"id":"48f93bab-b727-7318-d289-41ac7f32f1f0","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"children":[]}]},{"id":"7be541e8-1429-42e7-f46c-b8c66b61cea5","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"7be541e8-1429-42e7-f46c-b8c66b61cea5","sourcePort":"Message","targetId":"48f93bab-b727-7318-d289-41ac7f32f1f0","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["9e09da1e-2ead-77eb-688e-192319a7c548"]},{"name":"/Components/Show Toast/Warning","nodes":[{"id":"cc7db6ec-f31f-6a65-71e9-35d259857e1b","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"ae913ffd-35a7-7d87-4bcb-b34011863caa","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000033","borderWidth":{"value":1,"unit":"px"},"borderColor":"Notice","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"e069f3f2-4c49-5d8f-ab55-cc705626783a","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#F2C4413F","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"c5b19c3f-2dc1-ba59-7771-7558e8b153a0","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"warning"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Notice"},"ports":[],"children":[]}]},{"id":"9cabce97-8ab8-a62d-9a04-76be185ae1ec","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"children":[]}]}],"connections":[{"sourceId":"cc7db6ec-f31f-6a65-71e9-35d259857e1b","sourcePort":"Message","targetId":"9cabce97-8ab8-a62d-9a04-76be185ae1ec","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["ae913ffd-35a7-7d87-4bcb-b34011863caa"]},{"name":"/Query/Select copy/Select Dati Venditori","nodes":[{"id":"d56fee0b-2fc5-6145-38f9-d9a8dc657da2","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"f669d591-2310-f5f3-7ad4-15d6221dadc0","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"d520938b-b4bf-56b5-11f7-f6f08e6799c8","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n\n  let supid = Inputs.Supid;\n  \n  let query = supabase\n  .from('soggetti')\n  .select('supid:id, ragione_sociale, fisso_mensile, fees_model');\n\n  // Applica la clausola where condizionalmente\n  let matchConditions = { tipo: 2, is_venditore: true }; \n  if (supid) matchConditions.id = supid;\n  \n  query = query.match(matchConditions);\n\n  const { data, error } = await query;\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  }\n  \n  else {\n  // Trasforma i risultati in un formato { Label, Value }\n  const listData = data.map(soggetto => ({\n      Value: soggetto.supid.toString(),\n      Label: soggetto.ragione_sociale\n    }));\n\n  //valorizza gli Outputs;\n  Outputs.Data = data;\n  Outputs.FirstRowID = data[0].supid;\n  Outputs.ListData = listData;\n  Outputs.Success();\n  \n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"in-Supid","displayName":"Supid","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-FirstRowID","displayName":"FirstRowID","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-ListData","displayName":"ListData","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]}],"connections":[{"sourceId":"d56fee0b-2fc5-6145-38f9-d9a8dc657da2","sourcePort":"Run","targetId":"d520938b-b4bf-56b5-11f7-f6f08e6799c8","targetPort":"run"},{"sourceId":"d56fee0b-2fc5-6145-38f9-d9a8dc657da2","sourcePort":"IDVenditore","targetId":"d520938b-b4bf-56b5-11f7-f6f08e6799c8","targetPort":"in-Supid"},{"sourceId":"d520938b-b4bf-56b5-11f7-f6f08e6799c8","sourcePort":"out-Success","targetId":"f669d591-2310-f5f3-7ad4-15d6221dadc0","targetPort":"Success"},{"sourceId":"d520938b-b4bf-56b5-11f7-f6f08e6799c8","sourcePort":"out-Data","targetId":"f669d591-2310-f5f3-7ad4-15d6221dadc0","targetPort":"data"},{"sourceId":"d520938b-b4bf-56b5-11f7-f6f08e6799c8","sourcePort":"out-ListData","targetId":"f669d591-2310-f5f3-7ad4-15d6221dadc0","targetPort":"list"},{"sourceId":"d520938b-b4bf-56b5-11f7-f6f08e6799c8","sourcePort":"out-FirstRowID","targetId":"f669d591-2310-f5f3-7ad4-15d6221dadc0","targetPort":"firstRowID"}],"ports":[{"name":"data","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"IDVenditore","type":"*","group":"Inputs","plug":"input","index":2},{"name":"list","type":"*","plug":"output","index":3},{"name":"firstRowID","type":"*","plug":"output","index":4}],"roots":[]},{"name":"/Query/Select copy/Select_costi_detail_incassato","nodes":[{"id":"5f6e2f91-b862-a322-9054-d10625033ff7","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\n  try {\n    // Definizione delle variabili per i filtri e l'ordinamento\n    const var_when_soggetto = Inputs.Var_when_soggetto; // Sostituisci con il valore desiderato o lascia vuoto\n    const var_when_area = Inputs.Var_when_area; // Sostituisci con il valore desiderato o lascia vuoto\n    const var_when_ticket = Inputs.Var_when_ticket; // Sostituisci con il valore desiderato o lascia vuoto\n    const var_orderby_column = Inputs.Var_orderby_column; // Sostituisci con il nome della colonna per l'ordinamento o lascia vuoto\n    const var_orderby_desc_asc = Inputs.Var_orderby_desc_asc; // Usa 'asc' per ascendente, 'desc' per discendente, o lascia vuoto\n    const dataDal = Inputs.DataDal;\n    const dataAl = Inputs.DataAl;\n    // Inizia a costruire la query\n    let query = supabase.from('v_costi_detail')\n    .select('supid:id, date, importo, an_area, an_area_nome, an_tecnologia, an_tecnologia_nome, soggetto, soggetto_ragsoc');\n    // Applica la clausola where condizionalmente\n        let matchConditions = { payment_done: true }; // Filtro per visualizzare solo l'incassato\n        if (var_when_area) matchConditions.an_area = var_when_area;\n        if (var_when_ticket) matchConditions.an_tecnologia = var_when_ticket;\n        if (var_when_soggetto) matchConditions.soggetto = var_when_soggetto;\n        query = query.match(matchConditions);\n      // Applica la clausola order by condizionalmente\n      if (var_orderby_column && var_orderby_desc_asc) {\n        query = query.order(var_orderby_column, { ascending: var_orderby_desc_asc === 'asc' });\n      }\n\n      // Applica un order by per il mese estratto dalla colonna 'date'\n      query = query.order('date', { ascending: true });\n\n      //Applica i filtri date Dal Al condizionalmente\n      if (dataDal) {\n            // Filtra gli eventi a partire da questa data (inclusa)\n            query = query.gte('date', dataDal);\n        }\n      if (dataAl) {\n            // Filtra gli eventi fino a questa data (inclusa)\n            query = query.lte('date', dataAl);\n      }\n    // Esegue la query\n    const { data, error } = await query;\n\n  // Ricorda di gestire sia `data` che `error`\n\n    if (error) {\n      console.error(error)\n      Outputs.Failure();\n      console.log(\"errore\");\n    } else if (data) {\n      Outputs.DataCosti = data;\n      Outputs.TotaliCosti = data.reduce((acc, curr) => acc + curr.importo, 0);\n      Outputs.Success();\n    }\n    else {\n      console.log(\"non eseguita\");\n    }\n} catch (error) {\n    console.error(\"errore :\" + error)\n    Outputs.Failure();\n}\n","scriptOutputs":[],"outtype-Success":"signal"},"ports":[{"name":"in-Var_when_soggetto","displayName":"Var_when_soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Var_when_area","displayName":"Var_when_area","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Var_when_ticket","displayName":"Var_when_ticket","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Var_orderby_column","displayName":"Var_orderby_column","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Var_orderby_desc_asc","displayName":"Var_orderby_desc_asc","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-DataDal","displayName":"DataDal","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-DataAl","displayName":"DataAl","plug":"input","type":"*","group":"Inputs","index":10},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-DataCosti","displayName":"DataCosti","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-TotaliCosti","displayName":"TotaliCosti","plug":"output","type":"*","group":"Outputs","index":14}],"children":[]},{"id":"8f6f6839-fdbc-1876-8189-1d80a03f0782","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"ac8237ee-2c71-0e08-59ff-8b0c1f177678","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"3d4926a4-0516-2202-d483-498eeb86471c","type":"Date To String","parameters":{},"ports":[],"children":[]},{"id":"dde579bf-87f5-6805-56d9-7c0c0f3d8e9f","type":"Date To String","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"8f6f6839-fdbc-1876-8189-1d80a03f0782","sourcePort":"Run","targetId":"5f6e2f91-b862-a322-9054-d10625033ff7","targetPort":"run"},{"sourceId":"8f6f6839-fdbc-1876-8189-1d80a03f0782","sourcePort":"var_when_soggetto","targetId":"5f6e2f91-b862-a322-9054-d10625033ff7","targetPort":"in-Var_when_soggetto"},{"sourceId":"8f6f6839-fdbc-1876-8189-1d80a03f0782","sourcePort":"var_when_area","targetId":"5f6e2f91-b862-a322-9054-d10625033ff7","targetPort":"in-Var_when_area"},{"sourceId":"8f6f6839-fdbc-1876-8189-1d80a03f0782","sourcePort":"var_when_ticket","targetId":"5f6e2f91-b862-a322-9054-d10625033ff7","targetPort":"in-Var_when_ticket"},{"sourceId":"8f6f6839-fdbc-1876-8189-1d80a03f0782","sourcePort":"var_orderby_column","targetId":"5f6e2f91-b862-a322-9054-d10625033ff7","targetPort":"in-Var_orderby_column"},{"sourceId":"8f6f6839-fdbc-1876-8189-1d80a03f0782","sourcePort":"var_orderby_desc_asc","targetId":"5f6e2f91-b862-a322-9054-d10625033ff7","targetPort":"in-Var_orderby_desc_asc"},{"sourceId":"8f6f6839-fdbc-1876-8189-1d80a03f0782","sourcePort":"dataDal","targetId":"3d4926a4-0516-2202-d483-498eeb86471c","targetPort":"input"},{"sourceId":"8f6f6839-fdbc-1876-8189-1d80a03f0782","sourcePort":"dataAl","targetId":"dde579bf-87f5-6805-56d9-7c0c0f3d8e9f","targetPort":"input"},{"sourceId":"3d4926a4-0516-2202-d483-498eeb86471c","sourcePort":"currentValue","targetId":"5f6e2f91-b862-a322-9054-d10625033ff7","targetPort":"in-DataDal"},{"sourceId":"dde579bf-87f5-6805-56d9-7c0c0f3d8e9f","sourcePort":"currentValue","targetId":"5f6e2f91-b862-a322-9054-d10625033ff7","targetPort":"in-DataAl"},{"sourceId":"5f6e2f91-b862-a322-9054-d10625033ff7","sourcePort":"out-TotaliCosti","targetId":"ac8237ee-2c71-0e08-59ff-8b0c1f177678","targetPort":"totaleCosti"},{"sourceId":"5f6e2f91-b862-a322-9054-d10625033ff7","sourcePort":"out-Success","targetId":"ac8237ee-2c71-0e08-59ff-8b0c1f177678","targetPort":"Success"},{"sourceId":"5f6e2f91-b862-a322-9054-d10625033ff7","sourcePort":"out-DataCosti","targetId":"ac8237ee-2c71-0e08-59ff-8b0c1f177678","targetPort":"dataCosti"}],"ports":[{"name":"dataCosti","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"var_when_soggetto","type":"*","group":"Inputs","plug":"input","index":2},{"name":"totaleCosti","type":"*","plug":"output","index":3},{"name":"var_when_area","type":"*","group":"Inputs","plug":"input","index":3},{"name":"costiArrayID","type":"*","plug":"output","index":4},{"name":"var_when_ticket","type":"*","group":"Inputs","plug":"input","index":4},{"name":"var_orderby_column","type":"*","group":"Inputs","plug":"input","index":5},{"name":"var_orderby_desc_asc","type":"*","group":"Inputs","plug":"input","index":6},{"name":"dataDal","type":{"name":"date"},"plug":"input","index":7},{"name":"dataAl","type":{"name":"date"},"plug":"input","index":8}],"roots":[]},{"name":"/Query/Select copy/Select_costi_noPayment","nodes":[{"id":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\n  try {\n    // Definizione delle variabili per i filtri e l'ordinamento\n    const var_when_soggetto = Inputs.Var_when_soggetto; // Sostituisci con il valore desiderato o lascia vuoto\n    const var_when_area = Inputs.Var_when_area; // Sostituisci con il valore desiderato o lascia vuoto\n    const var_when_ticket = Inputs.Var_when_ticket; // Sostituisci con il valore desiderato o lascia vuoto\n    const var_orderby_column = Inputs.Var_orderby_column; // Sostituisci con il nome della colonna per l'ordinamento o lascia vuoto\n    const var_orderby_desc_asc = Inputs.Var_orderby_desc_asc; // Usa 'asc' per ascendente, 'desc' per discendente, o lascia vuoto\n    const dataDal = Inputs.DataDal;\n    const dataAl = Inputs.DataAl;\n    // Inizia a costruire la query\n    let query = supabase.from('v_costi_detail')\n    .select('supid:id, date, importo, an_area, an_area_nome, an_tecnologia, an_tecnologia_nome, soggetto, soggetto_ragsoc');\n    // Applica la clausola where condizionalmente\n        let matchConditions = { payment_done: false }; // Filtro per visualizzare solo l'incassato\n        if (var_when_area) matchConditions.an_area = var_when_area;\n        if (var_when_ticket) matchConditions.an_tecnologia = var_when_ticket;\n        if (var_when_soggetto) matchConditions.soggetto = var_when_soggetto;\n        query = query.match(matchConditions);\n      // Applica la clausola order by condizionalmente\n      if (var_orderby_column && var_orderby_desc_asc) {\n        query = query.order(var_orderby_column, { ascending: var_orderby_desc_asc === 'asc' });\n      }\n\n      // Applica un order by per il mese estratto dalla colonna 'date'\n      query = query.order('date', { ascending: true });\n\n      //Applica i filtri date Dal Al condizionalmente\n      if (dataDal) {\n            // Filtra gli eventi a partire da questa data (inclusa)\n            query = query.gte('date', dataDal);\n        }\n      if (dataAl) {\n            // Filtra gli eventi fino a questa data (inclusa)\n            query = query.lte('date', dataAl);\n      }\n    // Esegue la query\n    const { data, error } = await query;\n\n  // Ricorda di gestire sia `data` che `error`\n\n    if (error) {\n      console.error(error)\n      Outputs.Failure();\n      console.log(\"errore\");\n    } else if (data) {\n      Outputs.DataCosti = data;\n      Outputs.TotaliCosti = data.reduce((acc, curr) => acc + curr.importo, 0);\n      Outputs.Success();\n    }\n    else {\n      console.log(\"non eseguita\");\n    }\n} catch (error) {\n    console.error(\"errore :\" + error)\n  Outputs.Failure();\n}\n","scriptOutputs":[],"outtype-Success":"signal"},"ports":[{"name":"in-Var_when_soggetto","displayName":"Var_when_soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Var_when_area","displayName":"Var_when_area","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Var_when_ticket","displayName":"Var_when_ticket","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Var_orderby_column","displayName":"Var_orderby_column","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Var_orderby_desc_asc","displayName":"Var_orderby_desc_asc","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-DataDal","displayName":"DataDal","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-DataAl","displayName":"DataAl","plug":"input","type":"*","group":"Inputs","index":10},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-DataCosti","displayName":"DataCosti","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-TotaliCosti","displayName":"TotaliCosti","plug":"output","type":"*","group":"Outputs","index":14}],"children":[]},{"id":"d9478bda-7314-7b5e-8552-60e2c22221bc","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"2de34bfe-cb2b-21f9-c518-d402dcdcf08d","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"f6964a0d-22f5-0962-b0cd-46c99aa38dc7","type":"Date To String","parameters":{},"ports":[],"children":[]},{"id":"7e0283c1-1b2f-6b03-ad72-9140e5956f9b","type":"Date To String","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"d9478bda-7314-7b5e-8552-60e2c22221bc","sourcePort":"Run","targetId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","targetPort":"run"},{"sourceId":"d9478bda-7314-7b5e-8552-60e2c22221bc","sourcePort":"var_when_soggetto","targetId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","targetPort":"in-Var_when_soggetto"},{"sourceId":"d9478bda-7314-7b5e-8552-60e2c22221bc","sourcePort":"var_when_area","targetId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","targetPort":"in-Var_when_area"},{"sourceId":"d9478bda-7314-7b5e-8552-60e2c22221bc","sourcePort":"var_when_ticket","targetId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","targetPort":"in-Var_when_ticket"},{"sourceId":"d9478bda-7314-7b5e-8552-60e2c22221bc","sourcePort":"var_orderby_column","targetId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","targetPort":"in-Var_orderby_column"},{"sourceId":"d9478bda-7314-7b5e-8552-60e2c22221bc","sourcePort":"var_orderby_desc_asc","targetId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","targetPort":"in-Var_orderby_desc_asc"},{"sourceId":"d9478bda-7314-7b5e-8552-60e2c22221bc","sourcePort":"dataDal","targetId":"f6964a0d-22f5-0962-b0cd-46c99aa38dc7","targetPort":"input"},{"sourceId":"d9478bda-7314-7b5e-8552-60e2c22221bc","sourcePort":"dataAl","targetId":"7e0283c1-1b2f-6b03-ad72-9140e5956f9b","targetPort":"input"},{"sourceId":"f6964a0d-22f5-0962-b0cd-46c99aa38dc7","sourcePort":"currentValue","targetId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","targetPort":"in-DataDal"},{"sourceId":"7e0283c1-1b2f-6b03-ad72-9140e5956f9b","sourcePort":"currentValue","targetId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","targetPort":"in-DataAl"},{"sourceId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","sourcePort":"out-TotaliCosti","targetId":"2de34bfe-cb2b-21f9-c518-d402dcdcf08d","targetPort":"totaleCosti"},{"sourceId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","sourcePort":"out-Success","targetId":"2de34bfe-cb2b-21f9-c518-d402dcdcf08d","targetPort":"Success"},{"sourceId":"4ab0c35e-03d6-ae36-9af5-89516f0f025b","sourcePort":"out-DataCosti","targetId":"2de34bfe-cb2b-21f9-c518-d402dcdcf08d","targetPort":"dataCosti"}],"ports":[{"name":"dataCosti","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"var_when_soggetto","type":"*","group":"Inputs","plug":"input","index":2},{"name":"totaleCosti","type":"*","plug":"output","index":3},{"name":"var_when_area","type":"*","group":"Inputs","plug":"input","index":3},{"name":"costiArrayID","type":"*","plug":"output","index":4},{"name":"var_when_ticket","type":"*","group":"Inputs","plug":"input","index":4},{"name":"var_orderby_column","type":"*","group":"Inputs","plug":"input","index":5},{"name":"var_orderby_desc_asc","type":"*","group":"Inputs","plug":"input","index":6},{"name":"dataDal","type":{"name":"date"},"plug":"input","index":7},{"name":"dataAl","type":{"name":"date"},"plug":"input","index":8}],"roots":[]},{"name":"/Query/Select copy/Select_fees_models","nodes":[{"id":"f3aa2f5d-e154-af72-e8b8-762d2197045d","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"b82fd307-5e5a-5caf-9f51-829d8f01c871","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"aee9b562-5193-2234-5aa3-82c4909dfe27","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n\n  let supid = Inputs.Supid;\n  \n  let query = supabase\n  .from('def_fees')\n  .select('supid:id, nome, descrizione, is_active')\n  .eq('is_active', true); // Seleziona solo i record attivi\n\n  const { data, error } = await query;\n\n  if (error) {\n  console.error(error)\n  Outputs.Failure();\n  }\n  \n  else {\n  // Trasforma i risultati in un formato { Label, Value }\n  const listData = data.map(modello => ({\n      Value: modello.supid.toString(),\n      Label: modello.nome\n    }));\n\n  //valorizza gli Outputs;\n  Outputs.ListData = listData;\n  Outputs.Success();\n  \n  }\n}\n\n  catch (error) {\n    console.error(error)\n    Outputs.Failure();\n  }"},"ports":[{"name":"in-Supid","displayName":"Supid","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-ListData","displayName":"ListData","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"f3aa2f5d-e154-af72-e8b8-762d2197045d","sourcePort":"Do","targetId":"aee9b562-5193-2234-5aa3-82c4909dfe27","targetPort":"run"},{"sourceId":"aee9b562-5193-2234-5aa3-82c4909dfe27","sourcePort":"out-Success","targetId":"b82fd307-5e5a-5caf-9f51-829d8f01c871","targetPort":"Success"},{"sourceId":"aee9b562-5193-2234-5aa3-82c4909dfe27","sourcePort":"out-Failure","targetId":"b82fd307-5e5a-5caf-9f51-829d8f01c871","targetPort":"Failure"},{"sourceId":"aee9b562-5193-2234-5aa3-82c4909dfe27","sourcePort":"out-ListData","targetId":"b82fd307-5e5a-5caf-9f51-829d8f01c871","targetPort":"ListData"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"ListData","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/Query/Select copy/Select_ricavi_detail_incassato","nodes":[{"id":"811d8972-ffd9-5749-6a6a-6188f7201c76","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\n\n\ntry {\n  \n  // Definizione delle variabili per i filtri e l'ordinamento\n  const var_when_soggetto = Inputs.Var_when_soggetto; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_gestore = Inputs.Var_when_gestore; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_area = Inputs.Var_when_area; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_ticket = Inputs.Var_when_ticket; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_orderby_column = Inputs.Var_orderby_column; // Sostituisci con il nome della colonna per l'ordinamento o lascia vuoto\n  const var_orderby_desc_asc = Inputs.Var_orderby_desc_asc; // Usa 'asc' per ascendente, 'desc' per discendente, o lascia vuoto\n  const dataDal = Inputs.DataDal;\n  const dataAl = Inputs.DataAl;\n\n  // Inizia a costruire la query\n  let queryRicavi = supabase.from('v_ricavi_detail').select('supid:id, date, importo, an_area, an_area_nome, an_tecnologia, an_tecnologia_nome, an_gestore, an_gestore_ragsoc, soggetto, soggetto_ragsoc, an_prodotto, prodotto_nome');\n\n  // Applica la clausola where condizionalmente\n  let matchConditions = { payment_done: true }; // Filtro per visualizzare solo l'incassato\n  if (var_when_area) matchConditions.an_area = var_when_area;\n  if (var_when_ticket) matchConditions.an_tecnologia = var_when_ticket;\n  if (var_when_soggetto) matchConditions.soggetto = var_when_soggetto;\n  if (var_when_gestore) matchConditions.an_gestore = var_when_gestore;\n  queryRicavi = queryRicavi.match(matchConditions);\n  // Applica la clausola order by condizionalmente\n  if (var_orderby_column && var_orderby_desc_asc) {\n    queryRicavi = queryRicavi.order(var_orderby_column, { ascending: var_orderby_desc_asc === 'asc' });\n  }\n\n  // Applica un order by per il mese estratto dalla colonna 'date'\n  queryRicavi = queryRicavi.order('date', { ascending: true });\n  \n  //Applica i filtri date Dal Al condizionalmente\n  if (dataDal) {\n        // Filtra gli eventi a partire da questa data (inclusa)\n        queryRicavi = queryRicavi.gte('date', dataDal);\n    }\n\n    if (dataAl) {\n        // Filtra gli eventi fino a questa data (inclusa)\n        queryRicavi = queryRicavi.lte('date', dataAl);\n    }\n\n  // Esegue la query\n  const { data, error } = await queryRicavi;\n\n// Ricorda di gestire sia `data` che `error`\n\n  if (error) {\n    console.error(error)\n    Outputs.Failure();\n  } else {\n    Outputs.Data = data;\n    Outputs.Totali = data.reduce((acc, curr) => acc + curr.importo, 0);\n    Outputs.Success();\n\n  }\n} catch (error) {\n    console.error(error)\n  Outputs.Failure();\n}"},"ports":[{"name":"in-Var_when_soggetto","displayName":"Var_when_soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Var_when_gestore","displayName":"Var_when_gestore","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Var_when_area","displayName":"Var_when_area","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Var_when_ticket","displayName":"Var_when_ticket","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Var_orderby_column","displayName":"Var_orderby_column","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Var_orderby_desc_asc","displayName":"Var_orderby_desc_asc","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-DataDal","displayName":"DataDal","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-DataAl","displayName":"DataAl","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Totali","displayName":"Totali","plug":"output","type":"*","group":"Outputs","index":15}],"children":[]},{"id":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"69b6587b-914d-ab7d-77ec-24af6804afcb","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"b137e3dd-6954-cf70-d54f-77cbb42a5712","type":"Date To String","parameters":{},"ports":[],"children":[]},{"id":"75bbcf80-3a3e-9fca-4e65-7eb98f4c33a6","type":"Date To String","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"Run","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"run"},{"sourceId":"811d8972-ffd9-5749-6a6a-6188f7201c76","sourcePort":"out-Success","targetId":"69b6587b-914d-ab7d-77ec-24af6804afcb","targetPort":"Success"},{"sourceId":"811d8972-ffd9-5749-6a6a-6188f7201c76","sourcePort":"out-Totali","targetId":"69b6587b-914d-ab7d-77ec-24af6804afcb","targetPort":"totale"},{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"var_when_soggetto","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"in-Var_when_soggetto"},{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"var_when_area","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"in-Var_when_area"},{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"var_when_ticket","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"in-Var_when_ticket"},{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"var_orderby_column","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"in-Var_orderby_column"},{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"var_orderby_desc_asc","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"in-Var_orderby_desc_asc"},{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"dataDal","targetId":"b137e3dd-6954-cf70-d54f-77cbb42a5712","targetPort":"input"},{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"dataAl","targetId":"75bbcf80-3a3e-9fca-4e65-7eb98f4c33a6","targetPort":"input"},{"sourceId":"b137e3dd-6954-cf70-d54f-77cbb42a5712","sourcePort":"currentValue","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"in-DataDal"},{"sourceId":"75bbcf80-3a3e-9fca-4e65-7eb98f4c33a6","sourcePort":"currentValue","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"in-DataAl"},{"sourceId":"f2f17d06-59df-68f3-39e0-7f72bc8b2f46","sourcePort":"var_when_gestore","targetId":"811d8972-ffd9-5749-6a6a-6188f7201c76","targetPort":"in-Var_when_gestore"},{"sourceId":"811d8972-ffd9-5749-6a6a-6188f7201c76","sourcePort":"out-Data","targetId":"69b6587b-914d-ab7d-77ec-24af6804afcb","targetPort":"data"}],"ports":[{"name":"data","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"var_when_soggetto","type":"*","group":"Inputs","plug":"input","index":2},{"name":"totale","type":"*","plug":"output","index":3},{"name":"var_when_area","type":"*","group":"Inputs","plug":"input","index":3},{"name":"arrayID","type":"*","plug":"output","index":4},{"name":"var_when_ticket","type":"*","group":"Inputs","plug":"input","index":4},{"name":"var_orderby_column","type":"*","group":"Inputs","plug":"input","index":5},{"name":"var_orderby_desc_asc","type":"*","group":"Inputs","plug":"input","index":6},{"name":"dataDal","type":{"name":"date"},"plug":"input","index":7},{"name":"dataAl","type":{"name":"date"},"plug":"input","index":8},{"name":"var_when_gestore","type":"*","group":"Inputs","plug":"input","index":9}],"roots":[]},{"name":"/Query/Select copy/Select_ricavi_fees_todo","nodes":[{"id":"8ba87eb5-0766-f885-5794-957a3f4b140b","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n    const var_when_soggetto = Inputs.Var_when_soggetto;\n    const var_when_gestore = Inputs.Var_when_gestore;\n    const var_when_area = Inputs.Var_when_area;\n    const var_when_ticket = Inputs.Var_when_ticket;\n    const var_orderby_column = Inputs.Var_orderby_column;\n    const var_orderby_desc_asc = Inputs.Var_orderby_desc_asc;\n    const dataDal = Inputs.DataDal;\n    const dataAl = Inputs.DataAl;\n\n    // Start building the query\n    let queryRicavi = supabase.from('v_ricavi_fees').select('supid:id, date, importo, an_area, an_area_nome, an_tecnologia, an_tecnologia_nome, an_gestore, an_gestore_ragsoc, fees_gestore, soggetto, soggetto_ragsoc, an_prodotto, prodotto_nome, an_setter, fees_setter, an_salescoach, fees_salescoach, an_leadgen, fees_leadgen, payment_done');\n\n    // Apply conditional where clauses\n    let matchConditions = {};\n    if (var_when_area) matchConditions.an_area = var_when_area;\n    if (var_when_ticket) matchConditions.an_tecnologia = var_when_ticket;\n    if (var_when_soggetto) matchConditions.soggetto = var_when_soggetto;\n    if (var_when_gestore) {\n        queryRicavi = queryRicavi.or(`an_gestore.eq.${var_when_gestore},an_setter.eq.${var_when_gestore},an_salescoach.eq.${var_when_gestore},an_leadgen.eq.${var_when_gestore}`);\n    } else {\n        queryRicavi = queryRicavi.match(matchConditions);\n    }\n    \n    // Order by date\n    queryRicavi = queryRicavi.order('date', { ascending: true });\n\n    // Conditional date filters\n    if (dataDal) {\n        queryRicavi = queryRicavi.gte('date', dataDal);\n    }\n    if (dataAl) {\n        queryRicavi = queryRicavi.lte('date', dataAl);\n    }\n\n    // Execute the query\n    const { data, error } = await queryRicavi;\n\n    // Handle data and errors\n    if (error) {\n        console.error(error);\n        Outputs.Failure();\n    } else {\n        Outputs.Data = data;\n        Outputs.Fatturato = data.reduce((acc, curr) => acc + curr.importo, 0);\n        Outputs.FeesVenditore = data.filter(row => row.an_gestore === var_when_gestore).reduce((acc, curr) => acc + curr.fees_gestore, 0);\n        Outputs.FeesSetter = data.filter(row => row.an_setter === var_when_gestore).reduce((acc, curr) => acc + curr.fees_setter, 0);\n        Outputs.FeesSalescoach = data.filter(row => row.an_salescoach === var_when_gestore).reduce((acc, curr) => acc + curr.fees_salescoach, 0);\n        Outputs.FeesLeadgen = data.filter(row => row.an_leadgen === var_when_gestore).reduce((acc, curr) => acc + curr.fees_leadgen, 0);\n        Outputs.FeesTotali = Outputs.FeesVenditore + Outputs.FeesSetter + Outputs.FeesSalescoach + Outputs.FeesLeadgen;\n        Outputs.Success();\n    }\n} catch (error) {\n    console.error(error);\n    Outputs.Failure();\n}\n"},"ports":[{"name":"in-Var_when_soggetto","displayName":"Var_when_soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Var_when_gestore","displayName":"Var_when_gestore","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Var_when_area","displayName":"Var_when_area","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Var_when_ticket","displayName":"Var_when_ticket","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Var_orderby_column","displayName":"Var_orderby_column","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Var_orderby_desc_asc","displayName":"Var_orderby_desc_asc","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-DataDal","displayName":"DataDal","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-DataAl","displayName":"DataAl","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Fatturato","displayName":"Fatturato","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-FeesVenditore","displayName":"FeesVenditore","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-FeesSetter","displayName":"FeesSetter","plug":"output","type":"*","group":"Outputs","index":17},{"name":"out-FeesSalescoach","displayName":"FeesSalescoach","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-FeesLeadgen","displayName":"FeesLeadgen","plug":"output","type":"*","group":"Outputs","index":19},{"name":"out-FeesTotali","displayName":"FeesTotali","plug":"output","type":"*","group":"Outputs","index":20}],"children":[]},{"id":"d2786940-1a87-4283-b225-5a5c4d32461a","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"fd924d2f-70e4-2671-06df-d0821520c267","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"4cf559a3-0fa1-3f5e-f660-2d573ccb4133","type":"Date To String","parameters":{},"ports":[],"children":[]},{"id":"26c4db82-91e8-81df-5eac-2660e02186ef","type":"Date To String","parameters":{},"ports":[],"children":[]},{"id":"02e52f6d-a274-8be8-f592-5fba2273d333","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\n\n\ntry {\n  \n  // Definizione delle variabili per i filtri e l'ordinamento\n  const var_when_soggetto = Inputs.Var_when_soggetto; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_gestore = Inputs.Var_when_gestore; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_area = Inputs.Var_when_area; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_ticket = Inputs.Var_when_ticket; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_orderby_column = Inputs.Var_orderby_column; // Sostituisci con il nome della colonna per l'ordinamento o lascia vuoto\n  const var_orderby_desc_asc = Inputs.Var_orderby_desc_asc; // Usa 'asc' per ascendente, 'desc' per discendente, o lascia vuoto\n  const dataDal = Inputs.DataDal;\n  const dataAl = Inputs.DataAl;\n\n  // Inizia a costruire la query\n  let queryRicavi = supabase.from('v_ricavi_fees').select('supid:id, date, importo, an_area, an_area_nome, an_tecnologia, an_tecnologia_nome, an_gestore, an_gestore_ragsoc, fees_gestore, soggetto, soggetto_ragsoc, an_prodotto, prodotto_nome, an_setter, fees_setter, an_salescoach, fees_salescoach, an_leadgen, fees_leadgen');\n\n  // Applica la clausola where condizionalmente\n  let matchConditions = {};  //vengono estratte sia le righe saldate che le righe non saldate\n  if (var_when_area) matchConditions.an_area = var_when_area;\n  if (var_when_ticket) matchConditions.an_tecnologia = var_when_ticket;\n  if (var_when_soggetto) matchConditions.soggetto = var_when_soggetto;\n  if (var_when_gestore) matchConditions.an_gestore = var_when_gestore;\n  queryRicavi = queryRicavi.match(matchConditions);\n  // Applica la clausola order by condizionalmente\n  if (var_orderby_column && var_orderby_desc_asc) {\n    queryRicavi = queryRicavi.order(var_orderby_column, { ascending: var_orderby_desc_asc === 'asc' });\n  }\n\n  // Applica un order by per il mese estratto dalla colonna 'date'\n  queryRicavi = queryRicavi.order('date', { ascending: true });\n  \n  //Applica i filtri date Dal Al condizionalmente\n  if (dataDal) {\n        // Filtra gli eventi a partire da questa data (inclusa)\n        queryRicavi = queryRicavi.gte('date', dataDal);\n    }\n\n    if (dataAl) {\n        // Filtra gli eventi fino a questa data (inclusa)\n        queryRicavi = queryRicavi.lte('date', dataAl);\n    }\n\n  // Esegue la query\n  const { data, error } = await queryRicavi;\n\n// Ricorda di gestire sia `data` che `error`\n\n  if (error) {\n    console.error(error)\n    Outputs.Failure();\n  } else {\n    Outputs.Data = data;\n    Outputs.Fatturato = data.reduce((acc, curr) => acc + curr.importo, 0);\n    Outputs.FeesVenditore = data.reduce((acc, curr) => acc + curr.fees_gestore, 0);\n    Outputs.FeesSetter = data.reduce((acc, curr) => acc + curr.fees_setter, 0);\n    Outputs.FeesSalescoach = data.reduce((acc, curr) => acc + curr.fees_salescoach, 0);\n    Outputs.FeesLeadgen = data.reduce((acc, curr) => acc + curr.fees_leadgen, 0);\n    Outputs.FeesTotali = Outputs.FeesVenditore + Outputs.FeesSetter + Outputs.FeesSalescoach + Outputs.FeesLeadgen;\n    Outputs.Success();\n\n  }\n} catch (error) {\n    console.error(error)\n  Outputs.Failure();\n}"},"ports":[{"name":"in-Var_when_soggetto","displayName":"Var_when_soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Var_when_gestore","displayName":"Var_when_gestore","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Var_when_area","displayName":"Var_when_area","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Var_when_ticket","displayName":"Var_when_ticket","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Var_orderby_column","displayName":"Var_orderby_column","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Var_orderby_desc_asc","displayName":"Var_orderby_desc_asc","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-DataDal","displayName":"DataDal","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-DataAl","displayName":"DataAl","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Fatturato","displayName":"Fatturato","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-FeesVenditore","displayName":"FeesVenditore","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-FeesSetter","displayName":"FeesSetter","plug":"output","type":"*","group":"Outputs","index":17},{"name":"out-FeesSalescoach","displayName":"FeesSalescoach","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-FeesLeadgen","displayName":"FeesLeadgen","plug":"output","type":"*","group":"Outputs","index":19},{"name":"out-FeesTotali","displayName":"FeesTotali","plug":"output","type":"*","group":"Outputs","index":20}],"children":[]}],"connections":[{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"Run","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"run"},{"sourceId":"8ba87eb5-0766-f885-5794-957a3f4b140b","sourcePort":"out-Success","targetId":"fd924d2f-70e4-2671-06df-d0821520c267","targetPort":"Success"},{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"var_when_soggetto","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"in-Var_when_soggetto"},{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"var_when_area","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"in-Var_when_area"},{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"var_when_ticket","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"in-Var_when_ticket"},{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"var_orderby_column","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"in-Var_orderby_column"},{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"var_orderby_desc_asc","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"in-Var_orderby_desc_asc"},{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"dataDal","targetId":"4cf559a3-0fa1-3f5e-f660-2d573ccb4133","targetPort":"input"},{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"dataAl","targetId":"26c4db82-91e8-81df-5eac-2660e02186ef","targetPort":"input"},{"sourceId":"4cf559a3-0fa1-3f5e-f660-2d573ccb4133","sourcePort":"currentValue","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"in-DataDal"},{"sourceId":"26c4db82-91e8-81df-5eac-2660e02186ef","sourcePort":"currentValue","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"in-DataAl"},{"sourceId":"d2786940-1a87-4283-b225-5a5c4d32461a","sourcePort":"var_when_gestore","targetId":"8ba87eb5-0766-f885-5794-957a3f4b140b","targetPort":"in-Var_when_gestore"},{"sourceId":"8ba87eb5-0766-f885-5794-957a3f4b140b","sourcePort":"out-Data","targetId":"fd924d2f-70e4-2671-06df-d0821520c267","targetPort":"data"},{"sourceId":"8ba87eb5-0766-f885-5794-957a3f4b140b","sourcePort":"out-Fatturato","targetId":"fd924d2f-70e4-2671-06df-d0821520c267","targetPort":"fatturato"},{"sourceId":"8ba87eb5-0766-f885-5794-957a3f4b140b","sourcePort":"out-FeesVenditore","targetId":"fd924d2f-70e4-2671-06df-d0821520c267","targetPort":"feesVenditore"},{"sourceId":"8ba87eb5-0766-f885-5794-957a3f4b140b","sourcePort":"out-FeesSetter","targetId":"fd924d2f-70e4-2671-06df-d0821520c267","targetPort":"feesSetter"},{"sourceId":"8ba87eb5-0766-f885-5794-957a3f4b140b","sourcePort":"out-FeesSalescoach","targetId":"fd924d2f-70e4-2671-06df-d0821520c267","targetPort":"feesSalescoach"},{"sourceId":"8ba87eb5-0766-f885-5794-957a3f4b140b","sourcePort":"out-FeesLeadgen","targetId":"fd924d2f-70e4-2671-06df-d0821520c267","targetPort":"feesLeadgen"},{"sourceId":"8ba87eb5-0766-f885-5794-957a3f4b140b","sourcePort":"out-FeesTotali","targetId":"fd924d2f-70e4-2671-06df-d0821520c267","targetPort":"feesTotali"}],"ports":[{"name":"data","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"var_when_soggetto","type":"*","group":"Inputs","plug":"input","index":2},{"name":"feesVenditore","type":"*","plug":"output","index":3},{"name":"var_when_area","type":"*","group":"Inputs","plug":"input","index":3},{"name":"feesSetter","type":"*","plug":"output","index":4},{"name":"var_when_ticket","type":"*","group":"Inputs","plug":"input","index":4},{"name":"feesSalescoach","type":"*","plug":"output","index":5},{"name":"var_orderby_column","type":"*","group":"Inputs","plug":"input","index":5},{"name":"feesLeadgen","type":"*","plug":"output","index":6},{"name":"var_orderby_desc_asc","type":"*","group":"Inputs","plug":"input","index":6},{"name":"fatturato","type":"*","plug":"output","index":7},{"name":"dataDal","type":{"name":"date"},"plug":"input","index":7},{"name":"feesTotali","type":"*","plug":"output","index":8},{"name":"dataAl","type":{"name":"date"},"plug":"input","index":8},{"name":"var_when_gestore","type":"*","group":"Inputs","plug":"input","index":9}],"roots":[]},{"name":"/Query/Select copy/Select_ricavi_noPayment","nodes":[{"id":"de74284c-38a5-920b-a27f-d11806a7d55a","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\n\n\ntry {\n  \n  // Definizione delle variabili per i filtri e l'ordinamento\n  const var_when_soggetto = Inputs.Var_when_soggetto; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_gestore = Inputs.Var_when_gestore; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_area = Inputs.Var_when_area; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_when_ticket = Inputs.Var_when_ticket; // Sostituisci con il valore desiderato o lascia vuoto\n  const var_orderby_column = Inputs.Var_orderby_column; // Sostituisci con il nome della colonna per l'ordinamento o lascia vuoto\n  const var_orderby_desc_asc = Inputs.Var_orderby_desc_asc; // Usa 'asc' per ascendente, 'desc' per discendente, o lascia vuoto\n  const dataDal = Inputs.DataDal;\n  const dataAl = Inputs.DataAl;\n\n  // Inizia a costruire la query\n  let queryRicavi = supabase.from('v_ricavi_detail').select('supid:id, date, importo, an_area, an_area_nome, an_tecnologia, an_tecnologia_nome, an_gestore, an_gestore_ragsoc, soggetto, soggetto_ragsoc, an_prodotto, prodotto_nome');\n\n  // Applica la clausola where condizionalmente\n  let matchConditions = { payment_done: false }; // Filtro per visualizzare solo l'incassato\n  if (var_when_area) matchConditions.an_area = var_when_area;\n  if (var_when_ticket) matchConditions.an_tecnologia = var_when_ticket;\n  if (var_when_soggetto) matchConditions.soggetto = var_when_soggetto;\n  if (var_when_gestore) matchConditions.an_gestore = var_when_gestore;\n  queryRicavi = queryRicavi.match(matchConditions);\n  // Applica la clausola order by condizionalmente\n  if (var_orderby_column && var_orderby_desc_asc) {\n    queryRicavi = queryRicavi.order(var_orderby_column, { ascending: var_orderby_desc_asc === 'asc' });\n  }\n\n  // Applica un order by per il mese estratto dalla colonna 'date'\n  queryRicavi = queryRicavi.order('date', { ascending: true });\n\n  //Applica i filtri date Dal Al condizionalmente\n  if (dataDal) {\n        // Filtra gli eventi a partire da questa data (inclusa)\n        queryRicavi = queryRicavi.gte('date', dataDal);\n    }\n\n    if (dataAl) {\n        // Filtra gli eventi fino a questa data (inclusa)\n        queryRicavi = queryRicavi.lte('date', dataAl);\n    }\n\n  // Esegue la query\n  const { data, error } = await queryRicavi;\n\n// Ricorda di gestire sia `data` che `error`\n\n  if (error) {\n    console.error(error)\n    Outputs.Failure();\n  } else {\n    Outputs.Data = data;\n    Outputs.Totali = data.reduce((acc, curr) => acc + curr.importo, 0);\n    Outputs.Success();\n\n  }\n} catch (error) {\n    console.error(error)\n  Outputs.Failure();\n}"},"ports":[{"name":"in-Var_when_soggetto","displayName":"Var_when_soggetto","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Var_when_gestore","displayName":"Var_when_gestore","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Var_when_area","displayName":"Var_when_area","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Var_when_ticket","displayName":"Var_when_ticket","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Var_orderby_column","displayName":"Var_orderby_column","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Var_orderby_desc_asc","displayName":"Var_orderby_desc_asc","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-DataDal","displayName":"DataDal","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-DataAl","displayName":"DataAl","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-Data","displayName":"Data","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Totali","displayName":"Totali","plug":"output","type":"*","group":"Outputs","index":15}],"children":[]},{"id":"f4319404-0c84-6e06-9402-90109df36d1b","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"78f20e63-cc58-8db5-00a9-d229f94999e6","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"3f68baa5-f739-beb7-f1f6-506a626887ee","type":"Date To String","parameters":{},"ports":[],"children":[]},{"id":"49a1972a-7e78-b5f3-163a-4cc542a8bc54","type":"Date To String","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"Run","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"run"},{"sourceId":"de74284c-38a5-920b-a27f-d11806a7d55a","sourcePort":"out-Success","targetId":"78f20e63-cc58-8db5-00a9-d229f94999e6","targetPort":"Success"},{"sourceId":"de74284c-38a5-920b-a27f-d11806a7d55a","sourcePort":"out-Totali","targetId":"78f20e63-cc58-8db5-00a9-d229f94999e6","targetPort":"totale"},{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"var_when_soggetto","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"in-Var_when_soggetto"},{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"var_when_area","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"in-Var_when_area"},{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"var_when_ticket","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"in-Var_when_ticket"},{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"var_orderby_column","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"in-Var_orderby_column"},{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"var_orderby_desc_asc","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"in-Var_orderby_desc_asc"},{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"dataDal","targetId":"3f68baa5-f739-beb7-f1f6-506a626887ee","targetPort":"input"},{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"dataAl","targetId":"49a1972a-7e78-b5f3-163a-4cc542a8bc54","targetPort":"input"},{"sourceId":"3f68baa5-f739-beb7-f1f6-506a626887ee","sourcePort":"currentValue","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"in-DataDal"},{"sourceId":"49a1972a-7e78-b5f3-163a-4cc542a8bc54","sourcePort":"currentValue","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"in-DataAl"},{"sourceId":"f4319404-0c84-6e06-9402-90109df36d1b","sourcePort":"var_when_gestore","targetId":"de74284c-38a5-920b-a27f-d11806a7d55a","targetPort":"in-Var_when_gestore"},{"sourceId":"de74284c-38a5-920b-a27f-d11806a7d55a","sourcePort":"out-Data","targetId":"78f20e63-cc58-8db5-00a9-d229f94999e6","targetPort":"data"}],"ports":[{"name":"data","type":"*","plug":"output","index":1},{"name":"Run","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Success","type":"signal","plug":"output","index":2},{"name":"var_when_soggetto","type":"*","group":"Inputs","plug":"input","index":2},{"name":"totale","type":"*","plug":"output","index":3},{"name":"var_when_area","type":"*","group":"Inputs","plug":"input","index":3},{"name":"arrayID","type":"*","plug":"output","index":4},{"name":"var_when_ticket","type":"*","group":"Inputs","plug":"input","index":4},{"name":"var_orderby_column","type":"*","group":"Inputs","plug":"input","index":5},{"name":"var_orderby_desc_asc","type":"*","group":"Inputs","plug":"input","index":6},{"name":"dataDal","type":{"name":"date"},"plug":"input","index":7},{"name":"dataAl","type":{"name":"date"},"plug":"input","index":8},{"name":"var_when_gestore","type":"*","group":"Inputs","plug":"input","index":9}],"roots":[]},{"name":"/Query/Update/Salda Costo","nodes":[{"id":"b462efe8-a0dc-2db1-d9c8-879b97e02fcf","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"e5eb0550-1ed4-d77e-3cf3-6f312bcbb610","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"b7a91d3a-81e2-2676-a4de-c1086a83d7f9","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n    // Assume 'supid'  la variabile che contiene l'ID del record da aggiornare\n    const supid = Inputs.Supid;  // Assicurati che questo valore sia fornito correttamente\n\n    // Esecuzione della query di aggiornamento\n    const { data, error } = await supabase\n        .from('costi')\n        .update({ payment_done: true })\n        .eq('id', supid);\n\n    // Gestione della risposta\n    if (error) {\n        console.error('Update error:', error);\n        Outputs.Failure();  // Funzione da chiamare in caso di fallimento\n    } else {\n        Outputs.Updated();  // Funzione da chiamare in caso di successo\n        console.log('Update success:', data);\n    }\n} catch (error) {\n    console.error('Execution error:', error);\n    Outputs.Failure();  // Funzione da chiamare in caso di errori non gestiti\n}\n"},"ports":[{"name":"in-Supid","displayName":"Supid","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Updated","displayName":"Updated","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]},{"id":"3f6602c2-f737-2df8-4ecd-351dc463f1ce","type":"JavaScriptFunction","parameters":{"functionScript":"console.log(\"Riga di Costo NON aggiornata\");"},"ports":[],"children":[]},{"id":"5f75b203-1005-e20f-5563-3ae4bb28107b","type":"JavaScriptFunction","parameters":{"functionScript":"console.log(\"Riga di Costo aggiornata\");"},"ports":[],"children":[]}],"connections":[{"sourceId":"b462efe8-a0dc-2db1-d9c8-879b97e02fcf","sourcePort":"supid","targetId":"b7a91d3a-81e2-2676-a4de-c1086a83d7f9","targetPort":"in-Supid"},{"sourceId":"b7a91d3a-81e2-2676-a4de-c1086a83d7f9","sourcePort":"out-Updated","targetId":"e5eb0550-1ed4-d77e-3cf3-6f312bcbb610","targetPort":"Success"},{"sourceId":"b7a91d3a-81e2-2676-a4de-c1086a83d7f9","sourcePort":"out-Failure","targetId":"e5eb0550-1ed4-d77e-3cf3-6f312bcbb610","targetPort":"Failure"},{"sourceId":"b7a91d3a-81e2-2676-a4de-c1086a83d7f9","sourcePort":"out-Failure","targetId":"3f6602c2-f737-2df8-4ecd-351dc463f1ce","targetPort":"run"},{"sourceId":"b7a91d3a-81e2-2676-a4de-c1086a83d7f9","sourcePort":"out-Updated","targetId":"5f75b203-1005-e20f-5563-3ae4bb28107b","targetPort":"run"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":"*","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"supid","type":"*","group":"Inputs","plug":"input","index":1}],"roots":[]}]